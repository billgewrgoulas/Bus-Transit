"use strict";(self.webpackChunkCityBus=self.webpackChunkCityBus||[]).push([[73],{440:(k,y,e)=>{e.d(y,{N:()=>O});var t=e(4650),x=e(7047),b=e(6895);function g(c,l){if(1&c&&(t.TgZ(0,"div",10)(1,"span",11),t._uU(2,"\u0386\u03c6\u03b9\u03be\u03b7:"),t.qZA(),t.TgZ(3,"span",12)(4,"span",13),t._uU(5),t.qZA(),t._uU(6," \u03bb\u03b5\u03c0\u03c4\u03ac"),t.qZA()()),2&c){const a=t.oxw().$implicit;t.xp6(5),t.AsE("",a.arrivalMins,":",a.arrivalSeconds,"")}}function C(c,l){if(1&c&&(t.TgZ(0,"div",10)(1,"span",11),t._uU(2,"\u0391\u03bd\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7:"),t.qZA(),t.TgZ(3,"span",12)(4,"span",13),t._uU(5),t.qZA(),t._uU(6," \u03bb\u03b5\u03c0\u03c4\u03ac"),t.qZA()()),2&c){const a=t.oxw().$implicit;t.xp6(5),t.AsE("",a.departureMins,":",a.departureSeconds,"")}}function m(c,l){if(1&c&&(t.TgZ(0,"div",10)(1,"span",11),t._uU(2,"\u039a\u03b1\u03b8\u03c5\u03c3\u03c4\u03ad\u03c1\u03b7\u03c3\u03b7:"),t.qZA(),t.TgZ(3,"span",12)(4,"span",13),t._uU(5),t.qZA(),t._uU(6," \u03bb\u03b5\u03c0\u03c4\u03ac"),t.qZA()()),2&c){const a=t.oxw().$implicit;t.xp6(5),t.Oqu(a.delayMins)}}function f(c,l){if(1&c&&(t.TgZ(0,"div",10)(1,"span",11),t._uU(2,"\u0395\u03c0\u03cc\u03bc\u03b5\u03bd\u03b7 \u03c3\u03c4\u03ac\u03c3\u03b7:"),t.qZA(),t.TgZ(3,"span",12)(4,"span",13),t._uU(5),t.qZA(),t._uU(6," \u03bb\u03b5\u03c0\u03c4\u03ac"),t.qZA()()),2&c){const a=t.oxw().$implicit;t.xp6(5),t.Oqu(a.nextStop)}}function M(c,l){if(1&c){const a=t.EpF();t.TgZ(0,"div",4),t.NdJ("click",function(){const p=t.CHM(a).$implicit,u=t.oxw(2);return t.KtG(u.selectBus(p))}),t.TgZ(1,"div",5)(2,"div",6),t._UZ(3,"i",7),t.TgZ(4,"span",8),t._uU(5),t.qZA()(),t.YNc(6,g,7,2,"div",9),t.YNc(7,C,7,2,"div",9),t.YNc(8,m,7,1,"div",9),t.YNc(9,f,7,1,"div",9),t.qZA()()}if(2&c){const a=l.$implicit;t.xp6(5),t.AsE("",a.routeName," (",a.lineCode,")"),t.xp6(1),t.Q6J("ngIf",a.arrivalMins>0||a.arrivalMins>0),t.xp6(1),t.Q6J("ngIf",a.departureMins>0||a.departureSeconds>0),t.xp6(1),t.Q6J("ngIf",a.delayMins),t.xp6(1),t.Q6J("ngIf",a.nextStop)}}function P(c,l){if(1&c&&(t.ynx(0),t.YNc(1,M,10,6,"div",3),t.BQk()),2&c){const a=t.oxw();t.xp6(1),t.Q6J("ngForOf",a.buses)}}function Z(c,l){1&c&&(t.TgZ(0,"div",14)(1,"div",5)(2,"div",15)(3,"span",8),t._uU(4,"No departures for the next 30'"),t.qZA()()()())}class O{constructor(l){this.dataShare=l,this.buses=[],this.onClick=new t.vpe}ngOnInit(){}selectBus(l){0!=+l.latitude&&this.dataShare.fly([l.latitude,l.longitude])}}O.\u0275fac=function(l){return new(l||O)(t.Y36(x._))},O.\u0275cmp=t.Xpm({type:O,selectors:[["bus-entity"]],inputs:{buses:"buses"},outputs:{onClick:"onClick"},decls:4,vars:2,consts:[[1,"option-list"],[4,"ngIf","ngIfElse"],["noIncoming",""],["class","entity-wrapper",3,"click",4,"ngFor","ngForOf"],[1,"entity-wrapper",3,"click"],[1,"entity-container"],[1,"entity-type"],[1,"fas","fa-bus"],[1,"option-text"],["class","text-content",4,"ngIf"],[1,"text-content"],[1,"malakas"],[1,"description"],[1,"bold"],[1,"entity-wrapper"],[1,"text-content-no-incoming"]],template:function(l,a){if(1&l&&(t.TgZ(0,"div",0),t.YNc(1,P,2,1,"ng-container",1),t.qZA(),t.YNc(2,Z,5,0,"ng-template",null,2,t.W1O)),2&l){const I=t.MAs(3);t.xp6(1),t.Q6J("ngIf",a.buses.length>0)("ngIfElse",I)}},dependencies:[b.sg,b.O5],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:100%;gap:10px}.option-list[_ngcontent-%COMP%]{max-height:calc(100vh - 185px);display:flex;flex-direction:column;gap:10px;margin-top:3px}.entity-wrapper[_ngcontent-%COMP%]{background:rgb(227,227,236);background:linear-gradient(90deg,rgba(227,227,236,1) 0%,rgba(255,255,255,1) 100%);box-shadow:#63636333 0 2px 8px;cursor:pointer}.text-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:10px}.description[_ngcontent-%COMP%]{font-size:14px;color:#8190a4}.option-text[_ngcontent-%COMP%]{font-weight:600;color:#2e3e51}.entity-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;gap:1px;color:#545f6d;font-size:14px;padding:17px 15px 17px 20px}.entity-type[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:10px;margin-bottom:10px}.entity-type[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{padding-top:2px}.center[_ngcontent-%COMP%]{align-self:center!important;justify-self:center!important}.icon[_ngcontent-%COMP%]{font-size:14px}.bold[_ngcontent-%COMP%]{color:#2e3e51;font-size:15px}.text-content-no-incoming[_ngcontent-%COMP%]{display:flex;flex-direction:column}.malakas[_ngcontent-%COMP%]{color:#2e3e51;font-weight:700;font-size:14px}"]})},1615:(k,y,e)=>{e.d(y,{S:()=>E});var t=e(4650),x=e(6638),b=e(9653),g=e(7047),C=e(8252),m=e(6895),f=e(4006),M=e(457),P=e(7392);function Z(p,u){if(1&p){const i=t.EpF();t.TgZ(0,"button",16),t.NdJ("click",function(){t.CHM(i);const v=t.oxw(2);return t.KtG(v.onSave())}),t.TgZ(1,"span",17),t._uU(2),t.qZA()()}if(2&p){const i=t.oxw(2);t.xp6(2),t.hij("Save ",i.module,"")}}function O(p,u){if(1&p){const i=t.EpF();t.TgZ(0,"button",16),t.NdJ("click",function(){t.CHM(i);const v=t.oxw(2);return t.KtG(v.onRemove())}),t.TgZ(1,"span",17),t._uU(2),t.qZA()()}if(2&p){const i=t.oxw(2);t.xp6(2),t.hij("Unsave ",i.module,"")}}function c(p,u){if(1&p&&(t.TgZ(0,"section")(1,"button",13)(2,"mat-icon"),t._uU(3,"more_vert"),t.qZA()(),t.TgZ(4,"mat-menu",null,14),t.YNc(6,Z,3,1,"button",15),t.YNc(7,O,3,1,"button",15),t.qZA()()),2&p){const i=t.MAs(5),_=t.oxw();t.xp6(1),t.Q6J("matMenuTriggerFor",i),t.xp6(5),t.Q6J("ngIf",!_.saved),t.xp6(1),t.Q6J("ngIf",_.saved)}}function l(p,u){if(1&p){const i=t.EpF();t.TgZ(0,"i",18),t.NdJ("click",function(){t.CHM(i);const v=t.oxw();return t.KtG(v.map())}),t.qZA()}}function a(p,u){if(1&p){const i=t.EpF();t.TgZ(0,"i",19),t.NdJ("click",function(){t.CHM(i);const v=t.oxw();return t.KtG(v.clear())}),t.qZA()}}const I=function(p,u){return{start:p,end:u}};class E{constructor(u,i,_){this.store=u,this.msg=i,this.router=_,this.mapBtn=!1,this.value="",this.placeholder="",this.icon="",this.type="",this.disabled=!1,this.mapLink=[],this.dots=!1,this.saved=!1,this.code="",this.module="",this.title="",this.onType=new t.vpe,this.save=new t.vpe,this.remove=new t.vpe}ngOnInit(){this.mapButton()}send(){this.onType.emit(this.value)}clear(){this.value="",this.send()}goBack(){this.store.dispatch(x.tI())}toggle(){this.msg.onToggle()}onSave(){this.save.emit(this.code)}onRemove(){this.remove.emit(this.code)}map(){this.mapLink.length>0&&this.router.navigate([{outlets:{sidebar:this.mapLink}}],{queryParams:{module:"route_data"}})}mapButton(){this.mapBtn=!(window.innerWidth>500)}}E.\u0275fac=function(u){return new(u||E)(t.Y36(b.yh),t.Y36(g._),t.Y36(C.F0))},E.\u0275cmp=t.Xpm({type:E,selectors:[["input-field"]],hostBindings:function(u,i){1&u&&t.NdJ("resize",function(v){return i.mapButton(v)},!1,t.Jf7)},inputs:{value:"value",placeholder:"placeholder",icon:"icon",type:"type",disabled:"disabled",mapLink:"mapLink",dots:"dots",saved:"saved",code:"code",module:"module",title:"title"},outputs:{onType:"onType",save:"save",remove:"remove"},decls:16,vars:13,consts:[[1,"left-wrapper"],[1,"arrow","material-symbols-outlined",3,"click"],[1,"route","material-symbols-outlined",3,"ngClass"],[1,"right-wrapper"],[1,"icons"],[1,"title"],[1,"menu-btn"],[4,"ngIf"],["class","fas fa-map",3,"click",4,"ngIf"],[1,"bars","fas","fa-bars",3,"click"],[1,"input-list"],["name","myInput","type","text","autocomplete","off","autofocus","true",1,"text",3,"value","ngModel","disabled","placeholder","ngModelChange","keyup"],["class","fas fa-times",3,"click",4,"ngIf"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["class","inner-button","mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",1,"inner-button",3,"click"],[1,"menu-text"],[1,"fas","fa-map",3,"click"],[1,"fas","fa-times",3,"click"]],template:function(u,i){1&u&&(t.TgZ(0,"div",0)(1,"span",1),t.NdJ("click",function(){return i.goBack()}),t._uU(2," keyboard_backspace "),t.qZA(),t.TgZ(3,"span",2),t._uU(4),t.qZA()(),t.TgZ(5,"div",3)(6,"div",4)(7,"span",5),t._uU(8),t.qZA(),t.TgZ(9,"div",6),t.YNc(10,c,8,3,"section",7),t.YNc(11,l,1,0,"i",8),t.TgZ(12,"i",9),t.NdJ("click",function(){return i.toggle()}),t.qZA()()(),t.TgZ(13,"div",10)(14,"input",11),t.NdJ("ngModelChange",function(v){return i.value=v})("keyup",function(){return i.send()}),t.qZA(),t.YNc(15,a,1,0,"i",12),t.qZA()()),2&u&&(t.xp6(3),t.Q6J("ngClass",t.WLB(10,I,"start"===i.type,"dest"===i.type)),t.xp6(1),t.hij(" ",i.icon," "),t.xp6(4),t.Oqu(i.title),t.xp6(2),t.Q6J("ngIf",i.dots),t.xp6(1),t.Q6J("ngIf",i.mapBtn&&i.mapLink.length>0),t.xp6(3),t.s9C("placeholder",i.placeholder),t.Q6J("value",i.value)("ngModel",i.value)("disabled",i.disabled),t.xp6(1),t.Q6J("ngIf",""!=i.value&&!i.disabled))},dependencies:[m.mk,m.O5,f.Fj,f.JJ,f.On,M.VK,M.OP,M.p6,P.Hw],styles:["[_nghost-%COMP%]{display:flex;flex-direction:row;align-items:flex-end;width:100%;gap:10px;background:white;box-shadow:0 2px 5px #0000004d}.show[_ngcontent-%COMP%]{display:none!important}.left-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;gap:15px;padding:15px 0 21px 15px;background:rgb(221,220,229);background:linear-gradient(90deg,rgba(221,220,229,1) 0%,rgba(254,254,254,1) 100%);position:relative}.start[_ngcontent-%COMP%]{color:#3e3aef}.end[_ngcontent-%COMP%]{color:#db1de3}.route[_ngcontent-%COMP%]{font-weight:900}.right-wrapper[_ngcontent-%COMP%]{padding-bottom:15px;width:inherit;display:flex;flex-direction:column;gap:8px;position:relative}.fa-times[_ngcontent-%COMP%]{margin-top:5px;cursor:pointer}input[_ngcontent-%COMP%]{outline:none;border:none;border-bottom:3px solid #f7f8fe;background:transparent;width:87%;font-size:13px;padding-bottom:6px;color:#2b3b4c}.arrow[_ngcontent-%COMP%]{color:#2d3b50;font-size:33px;font-weight:600;cursor:pointer}.input-list[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:5px}.bars[_ngcontent-%COMP%]{color:#373a50;font-weight:600;font-size:27px;cursor:pointer}.menu-btn[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:7px}.icons[_ngcontent-%COMP%]{align-self:flex-end;margin-bottom:10px;margin-right:22px;display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:93%}.title[_ngcontent-%COMP%]{color:#2d3b50;font-size:14px}.fa-map[_ngcontent-%COMP%]{font-size:20px!important;cursor:pointer;padding:0 15px 0 0}  .mat-menu-panel{background:rgba(255,255,255,1)!important;color:#373a50!important}.inner-button[_ngcontent-%COMP%]:hover{background:rgb(235,235,235)!important}button[_ngcontent-%COMP%]{border:none!important;background-color:transparent!important;display:grid!important;place-items:center!important}.menu-text[_ngcontent-%COMP%]{color:#373a50;font-weight:700}"]})},943:(k,y,e)=>{e.d(y,{O:()=>x});var t=e(4650);class x{constructor(){}ngOnInit(){}}x.\u0275fac=function(g){return new(g||x)},x.\u0275cmp=t.Xpm({type:x,selectors:[["spinner-component"]],decls:5,vars:0,consts:[[1,"lds-ring"]],template:function(g,C){1&g&&(t.TgZ(0,"div",0),t._UZ(1,"div")(2,"div")(3,"div")(4,"div"),t.qZA())},styles:["[_nghost-%COMP%]{position:absolute;display:grid;place-items:center;width:100%;height:100%;inset:0;background-color:#0000003b;z-index:20;cursor:pointer}.lds-ring[_ngcontent-%COMP%]{display:inline-block;position:relative;width:64px;height:90px}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{box-sizing:border-box;display:block;position:absolute;width:50px;height:50px;margin:8px;border:2px solid #fff;border-radius:50%;animation:_ngcontent-%COMP%_lds-ring 1.2s cubic-bezier(.5,0,.5,1) infinite;border-color:#fff transparent transparent transparent}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){animation-delay:-.45s}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.3s}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){animation-delay:-.15s}@keyframes _ngcontent-%COMP%_lds-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})},47:(k,y,e)=>{e.d(y,{B:()=>g});var t=e(4650),x=e(6895);function b(C,m){if(1&C){const f=t.EpF();t.TgZ(0,"div",1),t.NdJ("click",function(){t.CHM(f);const P=t.oxw();return t.KtG(P.close())}),t.TgZ(1,"div",2),t._uU(2),t.qZA()()}if(2&C){const f=t.oxw();t.xp6(1),t.ekj("show",f.flag),t.xp6(1),t.Oqu(f.text)}}class g{constructor(){this.flag=!1,this.text="",this.msg=""}ngOnInit(){this.msg$&&(this.sub=this.msg$.subscribe({next:m=>this.start(m)}))}ngOnDestroy(){this.msg$&&this.sub.unsubscribe()}ngOnChanges(){""!=this.msg&&this.start(this.msg)}close(){this.flag=!1}start(m){this.text=m,this.flag=!0,setTimeout(()=>this.flag=!1,3e3)}}g.\u0275fac=function(m){return new(m||g)},g.\u0275cmp=t.Xpm({type:g,selectors:[["toaster-component"]],inputs:{msg$:"msg$",msg:"msg"},features:[t.TTD],decls:1,vars:1,consts:[["class","main",3,"click",4,"ngIf"],[1,"main",3,"click"],["id","snackbar"]],template:function(m,f){1&m&&t.YNc(0,b,3,3,"div",0),2&m&&t.Q6J("ngIf",f.flag)},dependencies:[x.O5],styles:[".main[_ngcontent-%COMP%]{position:absolute;display:grid;place-items:center;width:100%;height:100%;inset:0;background-color:#0000003b;z-index:20;cursor:pointer}#snackbar[_ngcontent-%COMP%]{visibility:hidden;background-color:#333;color:#fff;text-align:center;border-radius:2px;padding:10px 25px;position:fixed;z-index:5;margin:0 15px}#snackbar.show[_ngcontent-%COMP%]{visibility:visible;animation:_ngcontent-%COMP%_fadein .5s,fadeout .5s 2.5s}@keyframes _ngcontent-%COMP%_fadein{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes _ngcontent-%COMP%_fadeout{0%{transform:translateY(0);opacity:1}to{transform:translateY(20px);opacity:0}}"]})},8582:(k,y,e)=>{e.d(y,{m1:()=>K,_b:()=>R});var t=e(9751),x=e(727),b=e(3101),g=e(4707),C=e(576);function m(s){return!!s&&(s instanceof t.y||(0,C.m)(s.lift)&&(0,C.m)(s.subscribe))}var f=e(9646),M=e(233),P=e(515),Z=e(2843),O=e(7159),c=e(9841),l=e(7579),a=e(5363),I=e(8505),E=e(1365),p=e(4004),u=e(262),i=e(2722),_=e(5698),v=e(1884),$=e(3099),S=e(4650);function D(){return s=>new t.y(d=>{let n,o;const r=new x.w0;return r.add(s.subscribe({complete:()=>{n&&d.next(o),d.complete()},error:h=>{d.error(h)},next:h=>{o=h,n||(n=b.E.schedule(()=>{d.next(o),n=void 0}),r.add(n))}})),r})}function w(s){return"function"==typeof s.ngrxOnStoreInit}function U(s){return"function"==typeof s.ngrxOnStateInit}const J=new S.OlP("@ngrx/component-store Initial State");let K=(()=>{class s{constructor(n){this.destroySubject$=new g.t(1),this.destroy$=this.destroySubject$.asObservable(),this.stateSubject$=new g.t(1),this.isInitialized=!1,this.state$=this.select(o=>o),this.\u0275hasProvider=!1,n&&this.initState(n),this.checkProviderForHooks()}ngOnDestroy(){this.stateSubject$.complete(),this.destroySubject$.next()}updater(n){return o=>{let h,r=!0;const T=(m(o)?o:(0,f.of)(o)).pipe((0,a.Q)(M.N),(0,I.b)(()=>this.assertStateIsInitialized()),(0,E.M)(this.stateSubject$),(0,p.U)(([A,j])=>n(j,A)),(0,I.b)(A=>this.stateSubject$.next(A)),(0,u.K)(A=>r?(h=A,P.E):(0,Z._)(A)),(0,i.R)(this.destroy$)).subscribe();if(h)throw h;return r=!1,T}}initState(n){(0,O.x)([n],M.N).subscribe(o=>{this.isInitialized=!0,this.stateSubject$.next(o)})}setState(n){"function"!=typeof n?this.initState(n):this.updater(n)()}patchState(n){const o="function"==typeof n?n(this.get()):n;this.updater((r,h)=>({...r,...h}))(o)}get(n){let o;return this.assertStateIsInitialized(),this.stateSubject$.pipe((0,_.q)(1)).subscribe(r=>{o=n?n(r):r}),o}select(...n){const{observables:o,projector:r,config:h}=function L(s){const d=Array.from(s);let o,n={debounce:!1};const r=d.pop();return"function"!=typeof r?(n={...n,...r},o=d.pop()):o=r,{observables:d,projector:o,config:n}}(n);let B;return B=0===o.length?this.stateSubject$.pipe(h.debounce?D():T=>T,(0,p.U)(T=>r(T))):(0,c.a)(o).pipe(h.debounce?D():T=>T,(0,p.U)(T=>r(...T))),B.pipe((0,v.x)(),function N(s,d,n){let o,r=!1;return s&&"object"==typeof s?({bufferSize:o=1/0,windowTime:d=1/0,refCount:r=!1,scheduler:n}=s):o=s??1/0,(0,$.B)({connector:()=>new g.t(o,d,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}({refCount:!0,bufferSize:1}),(0,i.R)(this.destroy$))}effect(n){const o=new l.x;return n(o).pipe((0,i.R)(this.destroy$)).subscribe(),r=>(m(r)?r:(0,f.of)(r)).pipe((0,i.R)(this.destroy$)).subscribe(B=>{o.next(B)})}checkProviderForHooks(){b.E.schedule(()=>{if((0,S.X6Q)()&&(w(this)||U(this))&&!this.\u0275hasProvider){const n=[w(this)?"OnStoreInit":"",U(this)?"OnStateInit":""].filter(o=>o);console.warn(`@ngrx/component-store: ${this.constructor.name} has the ${n.join(" and ")} lifecycle hook(s) implemented without being provided using the provideComponentStore(${this.constructor.name}) function. To resolve this, provide the component store via provideComponentStore(${this.constructor.name})`)}})}assertStateIsInitialized(){if(!this.isInitialized)throw new Error(`${this.constructor.name} has not been initialized yet. Please make sure it is initialized before updating/getting.`)}}return s.\u0275fac=function(n){return new(n||s)(S.LFG(J,8))},s.\u0275prov=S.Yz7({token:s,factory:s.\u0275fac}),s})();function R(s,d,n){return o=>o.pipe((0,I.b)({next:s,complete:n}),(0,u.K)(r=>(d(r),P.E)))}}}]);