"use strict";(self.webpackChunkCityBus=self.webpackChunkCityBus||[]).push([[373],{3373:(U,T,l)=>{l.r(T),l.d(T,{AuthModule:()=>x});var c=l(6895),_=l(8252),i=l(4006),u=l(6638),y=l(3783),h=l(5521),e=l(4650),k=l(9653),P=l(7047),v=l(9549),b=l(4144),M=l(4859);function E(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"Email is required"),e.qZA())}function z(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"Must be an email"),e.qZA())}function R(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"at least 5 characters long"),e.qZA())}function L(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"password is required"),e.qZA())}function N(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"at least 5 characters"),e.qZA())}function H(o,r){if(1&o&&(e.TgZ(0,"div",11),e._uU(1),e.qZA()),2&o){const s=r.ngIf;e.xp6(1),e.hij(" ",s," ")}}class I{constructor(r,s,C){this.store=r,this.msg=s,this.auth=C}ngOnInit(){this.credentials=new i.cw({email:new i.NI("",[i.kI.required,i.kI.minLength(5),i.kI.email]),password:new i.NI("",[i.kI.required,i.kI.minLength(5)])}),this.auth.dispatch((0,h.Jo)()),this.authMsg$=this.auth.select(h.e6)}toggle(){this.msg.onToggle()}back(){this.store.dispatch(u.tI())}errors(r,s){return this.credentials.controls[r].hasError(s)}login(){this.credentials.valid?this.store.dispatch(y.x4({data:{email:this.credentials.value.email,password:this.credentials.value.password}})):confirm("Invalid fields")}}function F(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"name is required"),e.qZA())}function a(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"at least 5 characters long"),e.qZA())}function m(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"email is required"),e.qZA())}function t(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"must be an email"),e.qZA())}function n(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"at least 5 characters long"),e.qZA())}function d(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"at least 5 characters"),e.qZA())}function f(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"password is required"),e.qZA())}function p(o,r){if(1&o&&(e.TgZ(0,"div",12),e._uU(1),e.qZA()),2&o){const s=r.ngIf;e.xp6(1),e.hij(" ",s," ")}}I.\u0275fac=function(r){return new(r||I)(e.Y36(k.yh),e.Y36(P._),e.Y36(k.yh))},I.\u0275cmp=e.Xpm({type:I,selectors:[["app-login"]],decls:26,vars:9,consts:[[1,"left-wrapper"],[1,"arrow","material-symbols-outlined",3,"click"],[1,"fas","fa-bars",3,"click"],[1,"simple-form",3,"formGroup","ngSubmit"],["appearance","fill"],["matInput","","formControlName","email"],[4,"ngIf"],["type","password","matInput","","formControlName","password"],["class","error-msg",4,"ngIf"],[1,"example-button-row"],["mat-stroked-button","","color","primary"],[1,"error-msg"]],template:function(r,s){1&r&&(e.TgZ(0,"div",0)(1,"span",1),e.NdJ("click",function(){return s.back()}),e._uU(2," keyboard_backspace "),e.qZA(),e.TgZ(3,"i",2),e.NdJ("click",function(){return s.toggle()}),e.qZA()(),e.TgZ(4,"form",3),e.NdJ("ngSubmit",function(){return s.login()}),e.TgZ(5,"h1"),e._uU(6,"Login"),e.qZA(),e.TgZ(7,"mat-form-field",4)(8,"mat-label"),e._uU(9,"Email"),e.qZA(),e._UZ(10,"input",5),e.YNc(11,E,2,0,"mat-error",6),e.YNc(12,z,2,0,"mat-error",6),e.YNc(13,R,2,0,"mat-error",6),e.qZA(),e.TgZ(14,"mat-form-field",4)(15,"mat-label"),e._uU(16,"Password"),e.qZA(),e._UZ(17,"input",7),e.YNc(18,L,2,0,"mat-error",6),e.YNc(19,N,2,0,"mat-error",6),e.qZA(),e.YNc(20,H,2,1,"div",8),e.ALo(21,"async"),e.TgZ(22,"section")(23,"div",9)(24,"button",10),e._uU(25,"Log in"),e.qZA()()()()),2&r&&(e.xp6(4),e.Q6J("formGroup",s.credentials),e.xp6(7),e.Q6J("ngIf",s.errors("email","required")),e.xp6(1),e.Q6J("ngIf",s.errors("email","email")),e.xp6(1),e.Q6J("ngIf",s.errors("email","minlength")),e.xp6(5),e.Q6J("ngIf",s.errors("password","required")),e.xp6(1),e.Q6J("ngIf",s.errors("password","minlength")),e.xp6(1),e.Q6J("ngIf",e.lcZ(21,7,s.authMsg$)))},dependencies:[c.O5,v.TO,v.KE,v.hX,b.Nt,M.lW,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,c.Ov],styles:["[_nghost-%COMP%]{width:25vw;min-width:342px;display:flex;flex-direction:column}.simple-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:30px 15px 0;gap:5px}.left-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:20px;background:rgb(221,220,229);background:linear-gradient(90deg,rgba(221,220,229,1) 0%,rgba(254,254,254,1) 100%);position:relative;width:100%;box-shadow:0 2px 5px #0000004d}.arrow[_ngcontent-%COMP%]{color:#2d3b50;font-size:33px;font-weight:600;cursor:pointer}i[_ngcontent-%COMP%]{color:#373a50;font-weight:600;font-size:27px;cursor:pointer}  mat-form-field{width:100%!important}h1[_ngcontent-%COMP%]{margin-bottom:15px;color:#2b3b4c;font-family:Lexend Deca,sans-serif;font-weight:600;font-size:25px}.mat-input-element[_ngcontent-%COMP%]{caret-color:#545f6d}.mat-form-field-appearance-legacy[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%], .mat-hint[_ngcontent-%COMP%]   .mat-datepicker-toggle[_ngcontent-%COMP%]{color:#545f6d!important}  .mat-focused .mat-form-field-label{color:#545f6d!important;font-size:15px}  .mat-form-field-ripple{background-color:#3e3aef!important}  .mat-form-field-label{color:#545f6d!important}  .mat-form-field-appearance-fill .mat-form-field-flex{background-color:#8787871a!important}  .mat-button.mat-primary, .mat-icon-button.mat-primary[_ngcontent-%COMP%], .mat-stroked-button.mat-primary[_ngcontent-%COMP%]{color:#2b3b4c!important}  .mat-button, .mat-icon-button[_ngcontent-%COMP%], .mat-stroked-button[_ngcontent-%COMP%]{background:rgb(135 135 135 / 10%)!important}button[_ngcontent-%COMP%]{font-size:17px!important;font-weight:700}.error-msg[_ngcontent-%COMP%]{color:red;align-self:center;margin-bottom:10px}@media screen and (max-width: 800px){[_nghost-%COMP%]{min-width:330px}}@media screen and (max-width: 700px){[_nghost-%COMP%]{min-width:270px}}@media screen and (max-width: 600px){[_nghost-%COMP%]{min-width:250px}}@media screen and (max-width: 500px){[_nghost-%COMP%]{width:100vw}}"]});class g{constructor(r,s,C){this.store=r,this.msg=s,this.authStore=C}ngOnInit(){this.credentials=new i.cw({name:new i.NI("",[i.kI.required,i.kI.minLength(3)]),email:new i.NI("",[i.kI.required,i.kI.minLength(5),i.kI.email]),password:new i.NI("",[i.kI.required,i.kI.minLength(5)])}),this.authStore.dispatch((0,h.Jo)()),this.authMsg$=this.authStore.select(h.e6)}toggle(){this.msg.onToggle()}back(){this.store.dispatch(u.tI())}errors(r,s){return this.credentials.controls[r].hasError(s)}register(){this.credentials.valid?this.store.dispatch(y.z2({credentials:{name:this.credentials.value.name,email:this.credentials.value.email,password:this.credentials.value.password}})):console.log("invalid")}}g.\u0275fac=function(r){return new(r||g)(e.Y36(k.yh),e.Y36(P._),e.Y36(k.yh))},g.\u0275cmp=e.Xpm({type:g,selectors:[["register-component"]],decls:32,vars:11,consts:[[1,"left-wrapper"],[1,"arrow","material-symbols-outlined",3,"click"],[1,"fas","fa-bars",3,"click"],[1,"simple-form",3,"formGroup","ngSubmit"],["appearance","fill"],["matInput","","formControlName","name"],[4,"ngIf"],["matInput","","formControlName","email"],["type","password","matInput","","formControlName","password"],["class","error-msg",4,"ngIf"],[1,"example-button-row"],["mat-stroked-button","","color","primary"],[1,"error-msg"]],template:function(r,s){1&r&&(e.TgZ(0,"div",0)(1,"span",1),e.NdJ("click",function(){return s.back()}),e._uU(2," keyboard_backspace "),e.qZA(),e.TgZ(3,"i",2),e.NdJ("click",function(){return s.toggle()}),e.qZA()(),e.TgZ(4,"form",3),e.NdJ("ngSubmit",function(){return s.register()}),e.TgZ(5,"h1"),e._uU(6,"Register"),e.qZA(),e.TgZ(7,"mat-form-field",4)(8,"mat-label"),e._uU(9,"Name"),e.qZA(),e._UZ(10,"input",5),e.YNc(11,F,2,0,"mat-error",6),e.YNc(12,a,2,0,"mat-error",6),e.qZA(),e.TgZ(13,"mat-form-field",4)(14,"mat-label"),e._uU(15,"Email"),e.qZA(),e._UZ(16,"input",7),e.YNc(17,m,2,0,"mat-error",6),e.YNc(18,t,2,0,"mat-error",6),e.YNc(19,n,2,0,"mat-error",6),e.qZA(),e.TgZ(20,"mat-form-field",4)(21,"mat-label"),e._uU(22,"Password"),e.qZA(),e._UZ(23,"input",8),e.YNc(24,d,2,0,"mat-error",6),e.YNc(25,f,2,0,"mat-error",6),e.qZA(),e.YNc(26,p,2,1,"div",9),e.ALo(27,"async"),e.TgZ(28,"section")(29,"div",10)(30,"button",11),e._uU(31,"Register"),e.qZA()()()()),2&r&&(e.xp6(4),e.Q6J("formGroup",s.credentials),e.xp6(7),e.Q6J("ngIf",s.errors("name","required")),e.xp6(1),e.Q6J("ngIf",s.errors("name","minlength")),e.xp6(5),e.Q6J("ngIf",s.errors("email","required")),e.xp6(1),e.Q6J("ngIf",s.errors("email","email")),e.xp6(1),e.Q6J("ngIf",s.errors("email","minlength")),e.xp6(5),e.Q6J("ngIf",s.errors("password","minlength")),e.xp6(1),e.Q6J("ngIf",s.errors("password","required")),e.xp6(1),e.Q6J("ngIf",e.lcZ(27,9,s.authMsg$)))},dependencies:[c.O5,v.TO,v.KE,v.hX,b.Nt,M.lW,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,c.Ov],styles:["[_nghost-%COMP%]{width:25vw;display:flex;flex-direction:column;min-width:342px}.simple-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:30px 15px 0;gap:5px}.left-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:20px;background:rgb(221,220,229);background:linear-gradient(90deg,rgba(221,220,229,1) 0%,rgba(254,254,254,1) 100%);position:relative;width:100%;box-shadow:0 2px 5px #0000004d}.arrow[_ngcontent-%COMP%]{color:#2d3b50;font-size:33px;font-weight:600;cursor:pointer}i[_ngcontent-%COMP%]{color:#373a50;font-weight:600;font-size:27px;cursor:pointer}  mat-form-field{width:100%!important}h1[_ngcontent-%COMP%]{margin-bottom:15px;color:#2b3b4c;font-family:Lexend Deca,sans-serif;font-weight:600;font-size:25px}.mat-input-element[_ngcontent-%COMP%]{caret-color:#545f6d}.mat-form-field-appearance-legacy[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%], .mat-hint[_ngcontent-%COMP%]   .mat-datepicker-toggle[_ngcontent-%COMP%]{color:#545f6d!important}  .mat-focused .mat-form-field-label{color:#545f6d!important;font-size:15px}  .mat-form-field-ripple{background-color:#3e3aef!important}  .mat-form-field-label{color:#545f6d!important}  .mat-form-field-appearance-fill .mat-form-field-flex{background-color:#8787871a!important}  .mat-button.mat-primary, .mat-icon-button.mat-primary[_ngcontent-%COMP%], .mat-stroked-button.mat-primary[_ngcontent-%COMP%]{color:#2b3b4c!important}  .mat-button, .mat-icon-button[_ngcontent-%COMP%], .mat-stroked-button[_ngcontent-%COMP%]{background:rgb(135 135 135 / 10%)!important}button[_ngcontent-%COMP%]{font-size:17px!important;font-weight:700}.error-msg[_ngcontent-%COMP%]{color:red;align-self:center;margin-bottom:10px}@media screen and (max-width: 800px){[_nghost-%COMP%]{min-width:330px}}@media screen and (max-width: 700px){[_nghost-%COMP%]{min-width:270px}}@media screen and (max-width: 600px){[_nghost-%COMP%]{min-width:250px}}@media screen and (max-width: 500px){[_nghost-%COMP%]{width:100vw}}"]});const w=[{path:"login",component:I},{path:"register",component:g}];class A{}A.\u0275fac=function(r){return new(r||A)},A.\u0275mod=e.oAB({type:A}),A.\u0275inj=e.cJS({imports:[_.Bz.forChild(w),_.Bz]});var S=l(6658),Z=l(1868),O=l(8968);class x{}x.\u0275fac=function(r){return new(r||x)},x.\u0275mod=e.oAB({type:x}),x.\u0275inj=e.cJS({providers:[Z.e,O.P],imports:[c.ez,A,v.lN,b.c,S.m,M.ot,i.u5,i.UX]})},8968:(U,T,l)=>{l.d(T,{P:()=>u});var c=l(4650),_=l(1868),i=l(8252);class u{constructor(h,e){this.auth=h,this.router=e}canActivate(){return!!this.auth.isAuthenticated()||(this.router.navigate([{outlets:{sidebar:["auth","login"]}}]),!1)}}u.\u0275fac=function(h){return new(h||u)(c.LFG(_.e),c.LFG(i.F0))},u.\u0275prov=c.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})},4144:(U,T,l)=>{l.d(T,{Jk:()=>R,Nt:()=>I,c:()=>F});var c=l(1281),_=l(3353),i=l(4650),u=l(515),y=l(7579);const h=(0,_.i$)({passive:!0});let e=(()=>{class a{constructor(t,n){this._platform=t,this._ngZone=n,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return u.E;const n=(0,c.fI)(t),d=this._monitoredElements.get(n);if(d)return d.subject;const f=new y.x,p="cdk-text-field-autofilled",g=w=>{"cdk-text-field-autofill-start"!==w.animationName||n.classList.contains(p)?"cdk-text-field-autofill-end"===w.animationName&&n.classList.contains(p)&&(n.classList.remove(p),this._ngZone.run(()=>f.next({target:w.target,isAutofilled:!1}))):(n.classList.add(p),this._ngZone.run(()=>f.next({target:w.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{n.addEventListener("animationstart",g,h),n.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(n,{subject:f,unlisten:()=>{n.removeEventListener("animationstart",g,h)}}),f}stopMonitoring(t){const n=(0,c.fI)(t),d=this._monitoredElements.get(n);d&&(d.unlisten(),d.subject.complete(),n.classList.remove("cdk-text-field-autofill-monitored"),n.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(n))}ngOnDestroy(){this._monitoredElements.forEach((t,n)=>this.stopMonitoring(n))}}return a.\u0275fac=function(t){return new(t||a)(i.LFG(_.t4),i.LFG(i.R0b))},a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),v=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({}),a})();var b=l(4006),M=l(3238),E=l(9549);const R=new i.OlP("MAT_INPUT_VALUE_ACCESSOR"),L=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let N=0;const H=(0,M.FD)(class{constructor(a,m,t,n){this._defaultErrorStateMatcher=a,this._parentForm=m,this._parentFormGroup=t,this.ngControl=n,this.stateChanges=new y.x}});let I=(()=>{class a extends H{constructor(t,n,d,f,p,g,w,A,S,Z){super(g,f,p,d),this._elementRef=t,this._platform=n,this._autofillMonitor=A,this._formField=Z,this._uid="mat-input-"+N++,this.focused=!1,this.stateChanges=new y.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(o=>(0,_.qK)().has(o)),this._iOSKeyupListener=o=>{const r=o.target;!r.value&&0===r.selectionStart&&0===r.selectionEnd&&(r.setSelectionRange(1,1),r.setSelectionRange(0,0))};const O=this._elementRef.nativeElement,x=O.nodeName.toLowerCase();this._inputValueAccessor=w||O,this._previousNativeValue=this.value,this.id=this.id,n.IOS&&S.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===x,this._isTextarea="textarea"===x,this._isInFormField=!!Z,this._isNativeSelect&&(this.controlType=O.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=(0,c.Ig)(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(b.kI.required)??!1}set required(t){this._required=(0,c.Ig)(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&(0,_.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=(0,c.Ig)(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const t=this._formField,n=t&&"legacy"===t.appearance&&!t._hasLabel?.()?null:this.placeholder;if(n!==this._previousPlaceholder){const d=this._elementRef.nativeElement;this._previousPlaceholder=n,n?d.setAttribute("placeholder",n):d.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){L.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,n=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&n&&n.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return a.\u0275fac=function(t){return new(t||a)(i.Y36(i.SBq),i.Y36(_.t4),i.Y36(b.a5,10),i.Y36(b.F,8),i.Y36(b.sg,8),i.Y36(M.rD),i.Y36(R,10),i.Y36(e),i.Y36(i.R0b),i.Y36(E.G_,8))},a.\u0275dir=i.lG2({type:a,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,n){1&t&&i.NdJ("focus",function(){return n._focusChanged(!0)})("blur",function(){return n._focusChanged(!1)})("input",function(){return n._onInput()}),2&t&&(i.Ikx("disabled",n.disabled)("required",n.required),i.uIk("id",n.id)("data-placeholder",n.placeholder)("name",n.name||null)("readonly",n.readonly&&!n._isNativeSelect||null)("aria-invalid",n.empty&&n.required?null:n.errorState)("aria-required",n.required),i.ekj("mat-input-server",n._isServer)("mat-native-select-inline",n._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[i._Bn([{provide:E.Eo,useExisting:a}]),i.qOj,i.TTD]}),a})(),F=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({providers:[M.rD],imports:[v,E.lN,M.BQ,v,E.lN]}),a})()}}]);