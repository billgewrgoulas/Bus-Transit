(self.webpackChunkCityBus=self.webpackChunkCityBus||[]).push([[194],{5876:(V,u,d)=>{const c=d(532),e=d(7554),l=d(179),p=d(1036);function h(m,g,f,x,F){const D=[].slice.call(arguments,1),b=D.length,R="function"==typeof D[b-1];if(!R&&!c())throw new Error("Callback required as last argument");if(!R){if(b<1)throw new Error("Too few arguments provided");return 1===b?(f=g,g=x=void 0):2===b&&!g.getContext&&(x=f,f=g,g=void 0),new Promise(function(N,j){try{const P=e.create(f,x);N(m(P,g,x))}catch(P){j(P)}})}if(b<2)throw new Error("Too few arguments provided");2===b?(F=f,f=g,g=x=void 0):3===b&&(g.getContext&&typeof F>"u"?(F=x,x=void 0):(F=x,x=f,f=g,g=void 0));try{const N=e.create(f,x);F(null,m(N,g,x))}catch(N){F(N)}}u.rT=h.bind(null,l.render),u.hz=h.bind(null,l.renderToDataURL),u.toString=h.bind(null,function(m,g,f){return p.render(m,f)})},532:V=>{V.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},3012:(V,u,d)=>{const s=d(4860).getSymbolSize;u.getRowColCoords=function(e){if(1===e)return[];const l=Math.floor(e/7)+2,p=s(e),h=145===p?26:2*Math.ceil((p-13)/(2*l-2)),m=[p-7];for(let g=1;g<l-1;g++)m[g]=m[g-1]-h;return m.push(6),m.reverse()},u.getPositions=function(e){const l=[],p=u.getRowColCoords(e),h=p.length;for(let m=0;m<h;m++)for(let g=0;g<h;g++)0===m&&0===g||0===m&&g===h-1||m===h-1&&0===g||l.push([p[m],p[g]]);return l}},812:(V,u,d)=>{const s=d(6906),c=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function e(l){this.mode=s.ALPHANUMERIC,this.data=l}e.getBitsLength=function(p){return 11*Math.floor(p/2)+p%2*6},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(p){let h;for(h=0;h+2<=this.data.length;h+=2){let m=45*c.indexOf(this.data[h]);m+=c.indexOf(this.data[h+1]),p.put(m,11)}this.data.length%2&&p.put(c.indexOf(this.data[h]),6)},V.exports=e},3044:V=>{function u(){this.buffer=[],this.length=0}u.prototype={get:function(d){const s=Math.floor(d/8);return 1==(this.buffer[s]>>>7-d%8&1)},put:function(d,s){for(let c=0;c<s;c++)this.putBit(1==(d>>>s-c-1&1))},getLengthInBits:function(){return this.length},putBit:function(d){const s=Math.floor(this.length/8);this.buffer.length<=s&&this.buffer.push(0),d&&(this.buffer[s]|=128>>>this.length%8),this.length++}},V.exports=u},1973:V=>{function u(d){if(!d||d<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=d,this.data=new Uint8Array(d*d),this.reservedBit=new Uint8Array(d*d)}u.prototype.set=function(d,s,c,e){const l=d*this.size+s;this.data[l]=c,e&&(this.reservedBit[l]=!0)},u.prototype.get=function(d,s){return this.data[d*this.size+s]},u.prototype.xor=function(d,s,c){this.data[d*this.size+s]^=c},u.prototype.isReserved=function(d,s){return this.reservedBit[d*this.size+s]},V.exports=u},1824:(V,u,d)=>{const s=d(8419),c=d(6906);function e(l){this.mode=c.BYTE,this.data=new Uint8Array(s(l))}e.getBitsLength=function(p){return 8*p},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(l){for(let p=0,h=this.data.length;p<h;p++)l.put(this.data[p],8)},V.exports=e},6194:(V,u,d)=>{const s=d(9020),c=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],e=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];u.getBlocksCount=function(p,h){switch(h){case s.L:return c[4*(p-1)+0];case s.M:return c[4*(p-1)+1];case s.Q:return c[4*(p-1)+2];case s.H:return c[4*(p-1)+3];default:return}},u.getTotalCodewordsCount=function(p,h){switch(h){case s.L:return e[4*(p-1)+0];case s.M:return e[4*(p-1)+1];case s.Q:return e[4*(p-1)+2];case s.H:return e[4*(p-1)+3];default:return}}},9020:(V,u)=>{u.L={bit:1},u.M={bit:0},u.Q={bit:3},u.H={bit:2},u.isValid=function(c){return c&&typeof c.bit<"u"&&c.bit>=0&&c.bit<4},u.from=function(c,e){if(u.isValid(c))return c;try{return function d(s){if("string"!=typeof s)throw new Error("Param is not a string");switch(s.toLowerCase()){case"l":case"low":return u.L;case"m":case"medium":return u.M;case"q":case"quartile":return u.Q;case"h":case"high":return u.H;default:throw new Error("Unknown EC Level: "+s)}}(c)}catch{return e}}},9172:(V,u,d)=>{const s=d(4860).getSymbolSize;u.getPositions=function(l){const p=s(l);return[[0,0],[p-7,0],[0,p-7]]}},611:(V,u,d)=>{const s=d(4860),l=s.getBCHDigit(1335);u.getEncodedBits=function(h,m){const g=h.bit<<3|m;let f=g<<10;for(;s.getBCHDigit(f)-l>=0;)f^=1335<<s.getBCHDigit(f)-l;return 21522^(g<<10|f)}},7794:(V,u)=>{const d=new Uint8Array(512),s=new Uint8Array(256);(function(){let e=1;for(let l=0;l<255;l++)d[l]=e,s[e]=l,e<<=1,256&e&&(e^=285);for(let l=255;l<512;l++)d[l]=d[l-255]})(),u.log=function(e){if(e<1)throw new Error("log("+e+")");return s[e]},u.exp=function(e){return d[e]},u.mul=function(e,l){return 0===e||0===l?0:d[s[e]+s[l]]}},8043:(V,u,d)=>{const s=d(6906),c=d(4860);function e(l){this.mode=s.KANJI,this.data=l}e.getBitsLength=function(p){return 13*p},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(l){let p;for(p=0;p<this.data.length;p++){let h=c.toSJIS(this.data[p]);if(h>=33088&&h<=40956)h-=33088;else{if(!(h>=57408&&h<=60351))throw new Error("Invalid SJIS character: "+this.data[p]+"\nMake sure your charset is UTF-8");h-=49472}h=192*(h>>>8&255)+(255&h),l.put(h,13)}},V.exports=e},7135:(V,u)=>{u.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function s(c,e,l){switch(c){case u.Patterns.PATTERN000:return(e+l)%2==0;case u.Patterns.PATTERN001:return e%2==0;case u.Patterns.PATTERN010:return l%3==0;case u.Patterns.PATTERN011:return(e+l)%3==0;case u.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(l/3))%2==0;case u.Patterns.PATTERN101:return e*l%2+e*l%3==0;case u.Patterns.PATTERN110:return(e*l%2+e*l%3)%2==0;case u.Patterns.PATTERN111:return(e*l%3+(e+l)%2)%2==0;default:throw new Error("bad maskPattern:"+c)}}u.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},u.from=function(e){return u.isValid(e)?parseInt(e,10):void 0},u.getPenaltyN1=function(e){const l=e.size;let p=0,h=0,m=0,g=null,f=null;for(let x=0;x<l;x++){h=m=0,g=f=null;for(let F=0;F<l;F++){let D=e.get(x,F);D===g?h++:(h>=5&&(p+=h-5+3),g=D,h=1),D=e.get(F,x),D===f?m++:(m>=5&&(p+=m-5+3),f=D,m=1)}h>=5&&(p+=h-5+3),m>=5&&(p+=m-5+3)}return p},u.getPenaltyN2=function(e){const l=e.size;let p=0;for(let h=0;h<l-1;h++)for(let m=0;m<l-1;m++){const g=e.get(h,m)+e.get(h,m+1)+e.get(h+1,m)+e.get(h+1,m+1);(4===g||0===g)&&p++}return 3*p},u.getPenaltyN3=function(e){const l=e.size;let p=0,h=0,m=0;for(let g=0;g<l;g++){h=m=0;for(let f=0;f<l;f++)h=h<<1&2047|e.get(g,f),f>=10&&(1488===h||93===h)&&p++,m=m<<1&2047|e.get(f,g),f>=10&&(1488===m||93===m)&&p++}return 40*p},u.getPenaltyN4=function(e){let l=0;const p=e.data.length;for(let m=0;m<p;m++)l+=e.data[m];return 10*Math.abs(Math.ceil(100*l/p/5)-10)},u.applyMask=function(e,l){const p=l.size;for(let h=0;h<p;h++)for(let m=0;m<p;m++)l.isReserved(m,h)||l.xor(m,h,s(e,m,h))},u.getBestMask=function(e,l){const p=Object.keys(u.Patterns).length;let h=0,m=1/0;for(let g=0;g<p;g++){l(g),u.applyMask(g,e);const f=u.getPenaltyN1(e)+u.getPenaltyN2(e)+u.getPenaltyN3(e)+u.getPenaltyN4(e);u.applyMask(g,e),f<m&&(m=f,h=g)}return h}},6906:(V,u,d)=>{const s=d(2316),c=d(4677);u.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},u.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},u.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},u.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},u.MIXED={bit:-1},u.getCharCountIndicator=function(p,h){if(!p.ccBits)throw new Error("Invalid mode: "+p);if(!s.isValid(h))throw new Error("Invalid version: "+h);return h>=1&&h<10?p.ccBits[0]:h<27?p.ccBits[1]:p.ccBits[2]},u.getBestModeForData=function(p){return c.testNumeric(p)?u.NUMERIC:c.testAlphanumeric(p)?u.ALPHANUMERIC:c.testKanji(p)?u.KANJI:u.BYTE},u.toString=function(p){if(p&&p.id)return p.id;throw new Error("Invalid mode")},u.isValid=function(p){return p&&p.bit&&p.ccBits},u.from=function(p,h){if(u.isValid(p))return p;try{return function e(l){if("string"!=typeof l)throw new Error("Param is not a string");switch(l.toLowerCase()){case"numeric":return u.NUMERIC;case"alphanumeric":return u.ALPHANUMERIC;case"kanji":return u.KANJI;case"byte":return u.BYTE;default:throw new Error("Unknown mode: "+l)}}(p)}catch{return h}}},6002:(V,u,d)=>{const s=d(6906);function c(e){this.mode=s.NUMERIC,this.data=e.toString()}c.getBitsLength=function(l){return 10*Math.floor(l/3)+(l%3?l%3*3+1:0)},c.prototype.getLength=function(){return this.data.length},c.prototype.getBitsLength=function(){return c.getBitsLength(this.data.length)},c.prototype.write=function(l){let p,h,m;for(p=0;p+3<=this.data.length;p+=3)h=this.data.substr(p,3),m=parseInt(h,10),l.put(m,10);const g=this.data.length-p;g>0&&(h=this.data.substr(p),m=parseInt(h,10),l.put(m,3*g+1))},V.exports=c},7793:(V,u,d)=>{const s=d(7794);u.mul=function(e,l){const p=new Uint8Array(e.length+l.length-1);for(let h=0;h<e.length;h++)for(let m=0;m<l.length;m++)p[h+m]^=s.mul(e[h],l[m]);return p},u.mod=function(e,l){let p=new Uint8Array(e);for(;p.length-l.length>=0;){const h=p[0];for(let g=0;g<l.length;g++)p[g]^=s.mul(l[g],h);let m=0;for(;m<p.length&&0===p[m];)m++;p=p.slice(m)}return p},u.generateECPolynomial=function(e){let l=new Uint8Array([1]);for(let p=0;p<e;p++)l=u.mul(l,new Uint8Array([1,s.exp(p)]));return l}},7554:(V,u,d)=>{const s=d(4860),c=d(9020),e=d(3044),l=d(1973),p=d(3012),h=d(9172),m=d(7135),g=d(6194),f=d(8098),x=d(6602),F=d(611),D=d(6906),b=d(9465);function Y(v,E,T){const C=v.size,B=F.getEncodedBits(E,T);let w,y;for(w=0;w<15;w++)y=1==(B>>w&1),v.set(w<6?w:w<8?w+1:C-15+w,8,y,!0),v.set(8,w<8?C-w-1:w<9?15-w-1+1:15-w-1,y,!0);v.set(C-8,8,1,!0)}function $(v,E,T,C){let B;if(Array.isArray(v))B=b.fromArray(v);else{if("string"!=typeof v)throw new Error("Invalid data");{let U=E;if(!U){const te=b.rawSplit(v);U=x.getBestVersionForData(te,T)}B=b.fromString(v,U||40)}}const w=x.getBestVersionForData(B,T);if(!w)throw new Error("The amount of data is too big to be stored in a QR Code");if(E){if(E<w)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+w+".\n")}else E=w;const y=function k(v,E,T){const C=new e;T.forEach(function(O){C.put(O.mode.bit,4),C.put(O.getLength(),D.getCharCountIndicator(O.mode,v)),O.write(C)});const y=8*(s.getSymbolTotalCodewords(v)-g.getTotalCodewordsCount(v,E));for(C.getLengthInBits()+4<=y&&C.put(0,4);C.getLengthInBits()%8!=0;)C.putBit(0);const S=(y-C.getLengthInBits())/8;for(let O=0;O<S;O++)C.put(O%2?17:236,8);return function G(v,E,T){const C=s.getSymbolTotalCodewords(E),w=C-g.getTotalCodewordsCount(E,T),y=g.getBlocksCount(E,T),O=y-C%y,U=Math.floor(C/y),te=Math.floor(w/y),ge=te+1,Le=U-te,Ge=new f(Le);let Ae=0;const _e=new Array(y),Ue=new Array(y);let ae=0;const de=new Uint8Array(v.buffer);for(let oe=0;oe<y;oe++){const ce=oe<O?te:ge;_e[oe]=de.slice(Ae,Ae+ce),Ue[oe]=Ge.encode(_e[oe]),Ae+=ce,ae=Math.max(ae,ce)}const me=new Uint8Array(C);let q,z,X=0;for(q=0;q<ae;q++)for(z=0;z<y;z++)q<_e[z].length&&(me[X++]=_e[z][q]);for(q=0;q<Le;q++)for(z=0;z<y;z++)me[X++]=Ue[z][q];return me}(C,v,E)}(E,T,B),S=s.getSymbolSize(E),O=new l(S);return function R(v,E){const T=v.size,C=h.getPositions(E);for(let B=0;B<C.length;B++){const w=C[B][0],y=C[B][1];for(let S=-1;S<=7;S++)if(!(w+S<=-1||T<=w+S))for(let O=-1;O<=7;O++)y+O<=-1||T<=y+O||v.set(w+S,y+O,S>=0&&S<=6&&(0===O||6===O)||O>=0&&O<=6&&(0===S||6===S)||S>=2&&S<=4&&O>=2&&O<=4,!0)}}(O,E),function N(v){const E=v.size;for(let T=8;T<E-8;T++){const C=T%2==0;v.set(T,6,C,!0),v.set(6,T,C,!0)}}(O),function j(v,E){const T=p.getPositions(E);for(let C=0;C<T.length;C++){const B=T[C][0],w=T[C][1];for(let y=-2;y<=2;y++)for(let S=-2;S<=2;S++)v.set(B+y,w+S,-2===y||2===y||-2===S||2===S||0===y&&0===S,!0)}}(O,E),Y(O,T,0),E>=7&&function P(v,E){const T=v.size,C=x.getEncodedBits(E);let B,w,y;for(let S=0;S<18;S++)B=Math.floor(S/3),w=S%3+T-8-3,y=1==(C>>S&1),v.set(B,w,y,!0),v.set(w,B,y,!0)}(O,E),function I(v,E){const T=v.size;let C=-1,B=T-1,w=7,y=0;for(let S=T-1;S>0;S-=2)for(6===S&&S--;;){for(let O=0;O<2;O++)if(!v.isReserved(B,S-O)){let U=!1;y<E.length&&(U=1==(E[y]>>>w&1)),v.set(B,S-O,U),w--,-1===w&&(y++,w=7)}if(B+=C,B<0||T<=B){B-=C,C=-C;break}}}(O,y),isNaN(C)&&(C=m.getBestMask(O,Y.bind(null,O,T))),m.applyMask(C,O),Y(O,T,C),{modules:O,version:E,errorCorrectionLevel:T,maskPattern:C,segments:B}}u.create=function(E,T){if(typeof E>"u"||""===E)throw new Error("No input text");let B,w,C=c.M;return typeof T<"u"&&(C=c.from(T.errorCorrectionLevel,c.M),B=x.from(T.version),w=m.from(T.maskPattern),T.toSJISFunc&&s.setToSJISFunction(T.toSJISFunc)),$(E,B,C,w)}},8098:(V,u,d)=>{const s=d(7793);function c(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}c.prototype.initialize=function(l){this.degree=l,this.genPoly=s.generateECPolynomial(this.degree)},c.prototype.encode=function(l){if(!this.genPoly)throw new Error("Encoder not initialized");const p=new Uint8Array(l.length+this.degree);p.set(l);const h=s.mod(p,this.genPoly),m=this.degree-h.length;if(m>0){const g=new Uint8Array(this.degree);return g.set(h,m),g}return h},V.exports=c},4677:(V,u)=>{const d="[0-9]+";let c="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";c=c.replace(/u/g,"\\u");const e="(?:(?![A-Z0-9 $%*+\\-./:]|"+c+")(?:.|[\r\n]))+";u.KANJI=new RegExp(c,"g"),u.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),u.BYTE=new RegExp(e,"g"),u.NUMERIC=new RegExp(d,"g"),u.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const l=new RegExp("^"+c+"$"),p=new RegExp("^"+d+"$"),h=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");u.testKanji=function(g){return l.test(g)},u.testNumeric=function(g){return p.test(g)},u.testAlphanumeric=function(g){return h.test(g)}},9465:(V,u,d)=>{const s=d(6906),c=d(6002),e=d(812),l=d(1824),p=d(8043),h=d(4677),m=d(4860),g=d(4901);function f(P){return unescape(encodeURIComponent(P)).length}function x(P,Y,I){const k=[];let G;for(;null!==(G=P.exec(I));)k.push({data:G[0],index:G.index,mode:Y,length:G[0].length});return k}function F(P){const Y=x(h.NUMERIC,s.NUMERIC,P),I=x(h.ALPHANUMERIC,s.ALPHANUMERIC,P);let k,G;return m.isKanjiModeEnabled()?(k=x(h.BYTE,s.BYTE,P),G=x(h.KANJI,s.KANJI,P)):(k=x(h.BYTE_KANJI,s.BYTE,P),G=[]),Y.concat(I,k,G).sort(function(v,E){return v.index-E.index}).map(function(v){return{data:v.data,mode:v.mode,length:v.length}})}function D(P,Y){switch(Y){case s.NUMERIC:return c.getBitsLength(P);case s.ALPHANUMERIC:return e.getBitsLength(P);case s.KANJI:return p.getBitsLength(P);case s.BYTE:return l.getBitsLength(P)}}function j(P,Y){let I;const k=s.getBestModeForData(P);if(I=s.from(Y,k),I!==s.BYTE&&I.bit<k.bit)throw new Error('"'+P+'" cannot be encoded with mode '+s.toString(I)+".\n Suggested mode is: "+s.toString(k));switch(I===s.KANJI&&!m.isKanjiModeEnabled()&&(I=s.BYTE),I){case s.NUMERIC:return new c(P);case s.ALPHANUMERIC:return new e(P);case s.KANJI:return new p(P);case s.BYTE:return new l(P)}}u.fromArray=function(Y){return Y.reduce(function(I,k){return"string"==typeof k?I.push(j(k,null)):k.data&&I.push(j(k.data,k.mode)),I},[])},u.fromString=function(Y,I){const G=function R(P){const Y=[];for(let I=0;I<P.length;I++){const k=P[I];switch(k.mode){case s.NUMERIC:Y.push([k,{data:k.data,mode:s.ALPHANUMERIC,length:k.length},{data:k.data,mode:s.BYTE,length:k.length}]);break;case s.ALPHANUMERIC:Y.push([k,{data:k.data,mode:s.BYTE,length:k.length}]);break;case s.KANJI:Y.push([k,{data:k.data,mode:s.BYTE,length:f(k.data)}]);break;case s.BYTE:Y.push([{data:k.data,mode:s.BYTE,length:f(k.data)}])}}return Y}(F(Y,m.isKanjiModeEnabled())),$=function N(P,Y){const I={},k={start:{}};let G=["start"];for(let $=0;$<P.length;$++){const v=P[$],E=[];for(let T=0;T<v.length;T++){const C=v[T],B=""+$+T;E.push(B),I[B]={node:C,lastCount:0},k[B]={};for(let w=0;w<G.length;w++){const y=G[w];I[y]&&I[y].node.mode===C.mode?(k[y][B]=D(I[y].lastCount+C.length,C.mode)-D(I[y].lastCount,C.mode),I[y].lastCount+=C.length):(I[y]&&(I[y].lastCount=C.length),k[y][B]=D(C.length,C.mode)+4+s.getCharCountIndicator(C.mode,Y))}}G=E}for(let $=0;$<G.length;$++)k[G[$]].end=0;return{map:k,table:I}}(G,I),v=g.find_path($.map,"start","end"),E=[];for(let T=1;T<v.length-1;T++)E.push($.table[v[T]].node);return u.fromArray(function b(P){return P.reduce(function(Y,I){const k=Y.length-1>=0?Y[Y.length-1]:null;return k&&k.mode===I.mode?(Y[Y.length-1].data+=I.data,Y):(Y.push(I),Y)},[])}(E))},u.rawSplit=function(Y){return u.fromArray(F(Y,m.isKanjiModeEnabled()))}},4860:(V,u)=>{let d;const s=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];u.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},u.getSymbolTotalCodewords=function(e){return s[e]},u.getBCHDigit=function(c){let e=0;for(;0!==c;)e++,c>>>=1;return e},u.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');d=e},u.isKanjiModeEnabled=function(){return typeof d<"u"},u.toSJIS=function(e){return d(e)}},2316:(V,u)=>{u.isValid=function(s){return!isNaN(s)&&s>=1&&s<=40}},6602:(V,u,d)=>{const s=d(4860),c=d(6194),e=d(9020),l=d(6906),p=d(2316),m=s.getBCHDigit(7973);function f(D,b){return l.getCharCountIndicator(D,b)+4}function x(D,b){let R=0;return D.forEach(function(N){const j=f(N.mode,b);R+=j+N.getBitsLength()}),R}u.from=function(b,R){return p.isValid(b)?parseInt(b,10):R},u.getCapacity=function(b,R,N){if(!p.isValid(b))throw new Error("Invalid QR Code version");typeof N>"u"&&(N=l.BYTE);const Y=8*(s.getSymbolTotalCodewords(b)-c.getTotalCodewordsCount(b,R));if(N===l.MIXED)return Y;const I=Y-f(N,b);switch(N){case l.NUMERIC:return Math.floor(I/10*3);case l.ALPHANUMERIC:return Math.floor(I/11*2);case l.KANJI:return Math.floor(I/13);default:return Math.floor(I/8)}},u.getBestVersionForData=function(b,R){let N;const j=e.from(R,e.M);if(Array.isArray(b)){if(b.length>1)return function F(D,b){for(let R=1;R<=40;R++)if(x(D,R)<=u.getCapacity(R,b,l.MIXED))return R}(b,j);if(0===b.length)return 1;N=b[0]}else N=b;return function g(D,b,R){for(let N=1;N<=40;N++)if(b<=u.getCapacity(N,R,D))return N}(N.mode,N.getLength(),j)},u.getEncodedBits=function(b){if(!p.isValid(b)||b<7)throw new Error("Invalid QR Code version");let R=b<<12;for(;s.getBCHDigit(R)-m>=0;)R^=7973<<s.getBCHDigit(R)-m;return b<<12|R}},179:(V,u,d)=>{const s=d(714);u.render=function(p,h,m){let g=m,f=h;typeof g>"u"&&(!h||!h.getContext)&&(g=h,h=void 0),h||(f=function e(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}()),g=s.getOptions(g);const x=s.getImageWidth(p.modules.size,g),F=f.getContext("2d"),D=F.createImageData(x,x);return s.qrToImageData(D.data,p,g),function c(l,p,h){l.clearRect(0,0,p.width,p.height),p.style||(p.style={}),p.height=h,p.width=h,p.style.height=h+"px",p.style.width=h+"px"}(F,f,x),F.putImageData(D,0,0),f},u.renderToDataURL=function(p,h,m){let g=m;return typeof g>"u"&&(!h||!h.getContext)&&(g=h,h=void 0),g||(g={}),u.render(p,h,g).toDataURL(g.type||"image/png",(g.rendererOpts||{}).quality)}},1036:(V,u,d)=>{const s=d(714);function c(p,h){const m=p.a/255,g=h+'="'+p.hex+'"';return m<1?g+" "+h+'-opacity="'+m.toFixed(2).slice(1)+'"':g}function e(p,h,m){let g=p+h;return typeof m<"u"&&(g+=" "+m),g}u.render=function(h,m,g){const f=s.getOptions(m),x=h.modules.size,F=h.modules.data,D=x+2*f.margin,b=f.color.light.a?"<path "+c(f.color.light,"fill")+' d="M0 0h'+D+"v"+D+'H0z"/>':"",R="<path "+c(f.color.dark,"stroke")+' d="'+function l(p,h,m){let g="",f=0,x=!1,F=0;for(let D=0;D<p.length;D++){const b=Math.floor(D%h),R=Math.floor(D/h);!b&&!x&&(x=!0),p[D]?(F++,D>0&&b>0&&p[D-1]||(g+=x?e("M",b+m,.5+R+m):e("m",f,0),f=0,x=!1),b+1<h&&p[D+1]||(g+=e("h",F),F=0)):f++}return g}(F,x,f.margin)+'"/>',P='<svg xmlns="http://www.w3.org/2000/svg" '+(f.width?'width="'+f.width+'" height="'+f.width+'" ':"")+'viewBox="0 0 '+D+" "+D+'" shape-rendering="crispEdges">'+b+R+"</svg>\n";return"function"==typeof g&&g(null,P),P}},714:(V,u)=>{function d(s){if("number"==typeof s&&(s=s.toString()),"string"!=typeof s)throw new Error("Color should be defined as hex string");let c=s.slice().replace("#","").split("");if(c.length<3||5===c.length||c.length>8)throw new Error("Invalid hex color: "+s);(3===c.length||4===c.length)&&(c=Array.prototype.concat.apply([],c.map(function(l){return[l,l]}))),6===c.length&&c.push("F","F");const e=parseInt(c.join(""),16);return{r:e>>24&255,g:e>>16&255,b:e>>8&255,a:255&e,hex:"#"+c.slice(0,6).join("")}}u.getOptions=function(c){c||(c={}),c.color||(c.color={});const l=c.width&&c.width>=21?c.width:void 0;return{width:l,scale:l?4:c.scale||4,margin:typeof c.margin>"u"||null===c.margin||c.margin<0?4:c.margin,color:{dark:d(c.color.dark||"#000000ff"),light:d(c.color.light||"#ffffffff")},type:c.type,rendererOpts:c.rendererOpts||{}}},u.getScale=function(c,e){return e.width&&e.width>=c+2*e.margin?e.width/(c+2*e.margin):e.scale},u.getImageWidth=function(c,e){const l=u.getScale(c,e);return Math.floor((c+2*e.margin)*l)},u.qrToImageData=function(c,e,l){const p=e.modules.size,h=e.modules.data,m=u.getScale(p,l),g=Math.floor((p+2*l.margin)*m),f=l.margin*m,x=[l.color.light,l.color.dark];for(let F=0;F<g;F++)for(let D=0;D<g;D++){let b=4*(F*g+D),R=l.color.light;F>=f&&D>=f&&F<g-f&&D<g-f&&(R=x[h[Math.floor((F-f)/m)*p+Math.floor((D-f)/m)]?1:0]),c[b++]=R.r,c[b++]=R.g,c[b++]=R.b,c[b]=R.a}}},9194:(V,u,d)=>{"use strict";d.r(u),d.d(u,{PlannerModule:()=>Me});var s=d(6895),c=d(8252),e=d(4650),l=d(9653),p=d(8875);const h=function(){return["trip_planner"]},m=function(){return["bookings"]};class g{constructor(i,t){this.router=i,this.store=t}ngOnInit(){}myBookings(i){this.router.navigate([{outlets:{sidebar:["routes","bookings"]}}],{queryParams:{module:"trip_options"}})}tripPlanner(){this.router.navigate([{outlets:{sidebar:["routes","trip","options"]}}],{queryParams:{module:"trip_options"}})}}g.\u0275fac=function(i){return new(i||g)(e.Y36(c.F0),e.Y36(l.yh))},g.\u0275cmp=e.Xpm({type:g,selectors:[["book-options"]],decls:6,vars:8,consts:[[1,"main"],[1,"option-list"],[3,"icon","text","data","onSelect"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1"),e._uU(3,"Options"),e.qZA(),e.TgZ(4,"app-option",2),e.NdJ("onSelect",function(){return t.tripPlanner()}),e.qZA(),e.TgZ(5,"app-option",2),e.NdJ("onSelect",function(o){return t.myBookings(o)}),e.qZA()()()),2&i&&(e.xp6(4),e.Q6J("icon","route")("text","Book a trip")("data",e.DdM(6,h)),e.xp6(1),e.Q6J("icon","list")("text","My bookings")("data",e.DdM(7,m)))},dependencies:[p.x],styles:["[_nghost-%COMP%]{width:100%;display:flex}.option-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:auto;max-height:calc(100vh - 290px);padding-right:3px}h1[_ngcontent-%COMP%]{margin-bottom:15px;color:#2b3b4c;font-family:Lexend Deca,sans-serif;font-weight:600;font-size:21px;padding-top:15px}.main[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;width:100%;padding:0 15px;height:calc(100vh - 140px);position:relative}"]});var f=d(8582),x=d(9300),F=d(4986),D=d(4482),b=d(5403),R=d(8421);const N={leading:!0,trailing:!1};var P=d(2805);var I=d(4004),k=d(3783);const $={start:[],destination:[],direction:"",time:(new Date).getHours()+":"+(new Date).getMinutes(),date:new Date,arriveBy:"depart",fetch:!1,startValue:"",endValue:"",searchText:""};class v extends f.m1{constructor(i){super($),this.store=i,this.reset=this.updater(t=>$),this.fetchComplete=this.updater(t=>({...t,fetch:!1})),this.updateSearchText=this.updater((t,n)=>({...t,searchText:n})),this.swapPoints=this.updater(t=>({...t,direction:"swap",start:[...t.destination],destination:[...t.start],startValue:t.endValue,endValue:t.startValue})),this.changeDirection=this.updater((t,n)=>({...t,direction:n})),this.updatePoint=this.updater((t,n)=>"start"===t.direction?{...t,start:n,startValue:n[1]}:"dest"===t.direction?{...t,destination:n,endValue:n[1]}:$),this.updateStart=this.updater((t,n)=>({...t,start:n})),this.updateEnd=this.updater((t,n)=>({...t,destination:n})),this.updateTime=this.updater((t,n)=>({...t,time:n})),this.updateArriveBy=this.updater((t,n)=>({...t,arriveBy:n})),this.updateDate=this.updater((t,n)=>n?{...t,date:n}:t),this.initFetch=this.updater(t=>0==t.start.length||0==t.destination.length?t:{...t,fetch:!0,direction:""}),this.fetchPlan=this.effect(()=>this.state$.pipe((0,x.h)(t=>t.fetch&&t.start.length>0&&t.destination.length>0),function Y(a,i=F.z,t=N){const n=(0,P.H)(a,i);return function j(a,i=N){return(0,D.e)((t,n)=>{const{leading:o,trailing:r}=i;let _=!1,M=null,L=null,Q=!1;const J=()=>{L?.unsubscribe(),L=null,r&&(Ot(),Q&&n.complete())},le=()=>{L=null,Q&&n.complete()},ze=he=>L=(0,R.Xf)(a(he)).subscribe((0,b.x)(n,J,le)),Ot=()=>{if(_){_=!1;const he=M;M=null,n.next(he),!Q&&ze(he)}};t.subscribe((0,b.x)(n,he=>{_=!0,M=he,(!L||L.closed)&&(o?Ot():ze(he))},()=>{Q=!0,(!(r&&_&&L)||L.closed)&&n.complete()}))})}(()=>n,t)}(500),(0,I.U)(t=>this.store.dispatch(k.Eo({data:t}))),(0,f._b)(t=>{this.fetchComplete(),this.changeDirection("")},t=>{console.log(t),this.changeDirection(""),this.fetchComplete()})))}getNames(){return this.select(i=>{const t={start:"",end:""};return i.start.length>0&&(t.start=i.start[1]),i.destination.length>0&&(t.end=i.destination[1]),t})}getStartValue(){return this.select(this.state$,i=>i.startValue)}getEndValue(){return this.select(this.state$,i=>i.endValue)}getText(){return this.select(this.state$,i=>i.searchText)}}v.\u0275fac=function(i){return new(i||v)(e.LFG(l.yh))},v.\u0275prov=e.Yz7({token:v,factory:v.\u0275fac});var E=d(6638);function T(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"div",11),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.swapPoints())}),e.TgZ(1,"span",12),e._uU(2," swap_vert "),e.qZA()()}}class C{constructor(i){this.store=i,this.start="",this.end="",this.disabled=!1,this.startPlaceholder="search start",this.endPlaceholder="search end",this.clicked=new e.vpe,this.swap=new e.vpe}ngOnInit(){}navigate(){this.store.dispatch(E.tI())}swapPoints(){this.swap.next()}onClick(i){this.disabled||this.clicked.next(i)}}function B(a,i){if(1&a){const t=e.EpF();e.ynx(0),e.TgZ(1,"double-input",2),e.NdJ("clicked",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.places(o))})("swap",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.swap())}),e.qZA(),e.BQk()}if(2&a){const t=i.ngIf,n=e.oxw();e.xp6(1),e.Q6J("start",t.start)("end",t.end)("disabled",n.disabled)}}C.\u0275fac=function(i){return new(i||C)(e.Y36(l.yh))},C.\u0275cmp=e.Xpm({type:C,selectors:[["double-input"]],inputs:{start:"start",end:"end",disabled:"disabled",startPlaceholder:"startPlaceholder",endPlaceholder:"endPlaceholder"},outputs:{clicked:"clicked",swap:"swap"},decls:15,vars:5,consts:[[1,"input-section"],[1,"left-wrapper"],[1,"border"],[1,"arrow","material-symbols-outlined",3,"click"],[1,"start","material-symbols-outlined"],[1,"end","material-symbols-outlined"],[1,"right-wrapper"],["class","swap-icon",3,"click",4,"ngIf"],[1,"input-list"],["readonly","","name","myInput","type","text","autocomplete","off",1,"text",3,"value","placeholder","click"],["readonly","","name","myInput","type","text","autocomplete","off",1,"text","dest",3,"value","placeholder","click"],[1,"swap-icon",3,"click"],[1,"swap","material-symbols-outlined"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"div",2),e.TgZ(3,"span",3),e.NdJ("click",function(){return t.navigate()}),e._uU(4," keyboard_backspace "),e.qZA(),e.TgZ(5,"span",4),e._uU(6," trip_origin "),e.qZA(),e.TgZ(7,"span",5),e._uU(8," location_on "),e.qZA()(),e.TgZ(9,"div",6),e.YNc(10,T,3,0,"div",7),e.TgZ(11,"div",8)(12,"input",9),e.NdJ("click",function(){return t.onClick("start")}),e.qZA()(),e.TgZ(13,"div",8)(14,"input",10),e.NdJ("click",function(){return t.onClick("dest")}),e.qZA()()()()),2&i&&(e.xp6(10),e.Q6J("ngIf",!t.disabled),e.xp6(2),e.Q6J("value",t.start)("placeholder",t.startPlaceholder),e.xp6(2),e.Q6J("value",t.end)("placeholder",t.endPlaceholder))},dependencies:[s.O5],styles:["[_nghost-%COMP%]{width:100%;display:flex;flex-direction:column;font-family:Lexend Deca,sans-serif;align-items:center}.input-section[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-end;width:100%;gap:10px;background:white;box-shadow:0 2px 5px #0000004d}.show[_ngcontent-%COMP%]{display:none!important}.left-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;gap:15px;padding:15px 0 21px 15px;background:rgb(221,220,229);background:linear-gradient(90deg,rgba(221,220,229,1) 0%,rgba(254,254,254,1) 100%);position:relative}.start[_ngcontent-%COMP%]{color:#3e3aef;font-weight:900;font-size:20px}.end[_ngcontent-%COMP%]{color:#db1de3;font-weight:900;font-size:20px}.purple[_ngcontent-%COMP%]{color:#db1de3!important}.right-wrapper[_ngcontent-%COMP%]{padding-bottom:15px;width:inherit;display:flex;flex-direction:column;gap:8px;position:relative}.fa-times[_ngcontent-%COMP%]{margin-top:5px;cursor:pointer}.inputs[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:5px}input[_ngcontent-%COMP%]{outline:none;border:none;border-bottom:3px solid #f7f8fe;background:transparent;width:87%;font-size:14px;padding-bottom:5px;color:#2b3b4c;font-weight:500}.upper-input[_ngcontent-%COMP%]{padding-bottom:7px!important}.arrow[_ngcontent-%COMP%]{color:#2d3b50;font-size:33px;font-weight:600;cursor:pointer}.route[_ngcontent-%COMP%]{color:#3e3aef;font-weight:700}.input-list[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:5px}.border[_ngcontent-%COMP%]{position:absolute;border-right:1px solid #f7f8fe!important;height:12px;top:85px;left:38px}.swap-icon[_ngcontent-%COMP%]{position:absolute;bottom:35px;right:25px;box-shadow:#63636333 0 2px 8px;border-radius:50%;cursor:pointer}.swap[_ngcontent-%COMP%]{font-size:20px!important;color:#fff;background-color:#3e3aef;border-radius:50%;padding:5px}.dest[_ngcontent-%COMP%]{border:none!important}.stop-list-wrapper[_ngcontent-%COMP%]{width:99%;padding:20px 13px 0 20px}.option-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:99%;overflow:auto;max-height:calc(100vh - 270px);padding-right:7px}h1[_ngcontent-%COMP%]{margin-bottom:15px;color:#2b3b4c;font-family:Lexend Deca,sans-serif;font-weight:600;font-size:21px}"]});class w{constructor(i,t){this.local=i,this.router=t,this.disabled=!1}ngOnInit(){this.obs$=this.local.getNames()}swap(){this.local.swapPoints()}places(i){this.router.navigate([{outlets:{sidebar:["routes","places",i]}}],{queryParams:{module:"places"}})}checkUrl(){const i=this.router.url;this.disabled=!!i.includes("module=trips")||!!i.includes("module=trip_details")||!!i.includes("module=trip_map")}}w.\u0275fac=function(i){return new(i||w)(e.Y36(v),e.Y36(c.F0))},w.\u0275cmp=e.Xpm({type:w,selectors:[["app-input"]],decls:3,vars:3,consts:[[4,"ngIf"],[3,"activate"],[3,"start","end","disabled","clicked","swap"]],template:function(i,t){1&i&&(e.YNc(0,B,2,3,"ng-container",0),e.ALo(1,"async"),e.TgZ(2,"router-outlet",1),e.NdJ("activate",function(){return t.checkUrl()}),e.qZA()),2&i&&e.Q6J("ngIf",e.lcZ(1,1,t.obs$))},dependencies:[s.O5,c.lC,C,s.Ov],styles:["[_nghost-%COMP%]{width:25vw;min-width:342px;display:block;font-family:Lexend Deca,sans-serif}@media screen and (max-width: 800px){[_nghost-%COMP%]{min-width:330px}}@media screen and (max-width: 700px){[_nghost-%COMP%]{min-width:270px}}@media screen and (max-width: 600px){[_nghost-%COMP%]{min-width:250px}}@media screen and (max-width: 500px){[_nghost-%COMP%]{width:100vw}}"]});var y=d(9841),S=d(5698),O=d(8505),U=d(7758),te=d(7047),ge=d(1615);function Le(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"input-field",2),e.NdJ("onType",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.keyup(o))}),e.qZA()}if(2&a){const t=e.oxw().ngIf;e.Q6J("icon","trip_origin")("placeholder","search start")("type","start")("value",t.v)("title","Choose starting point")}}function Ge(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"input-field",2),e.NdJ("onType",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.keyup(o))}),e.qZA()}if(2&a){const t=e.oxw().ngIf;e.Q6J("icon","location_on")("placeholder","search destination")("type","dest")("value",t.v)("title","Choose destination")}}function Ae(a,i){if(1&a&&(e.ynx(0),e.YNc(1,Le,1,5,"input-field",1),e.YNc(2,Ge,1,5,"input-field",1),e.BQk()),2&a){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf","start"==t.direction),e.xp6(1),e.Q6J("ngIf","dest"==t.direction)}}const _e=function(a){return{v:a}};function Ue(a,i){if(1&a&&(e.ynx(0),e.YNc(1,Ae,3,2,"ng-container",0),e.ALo(2,"async"),e._UZ(3,"router-outlet"),e.BQk()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.VKq(3,_e,e.lcZ(2,1,t.initValue$)))}}class ae{constructor(i,t,n,o){this.route=i,this.local=t,this.msg=n,this.store=o,this.value="",this.direction="start",this.subs=[]}ngOnInit(){this.subs=[this.msg.dragStartObserver.subscribe(i=>this.onDrag(i,"start")),this.msg.dragEndObserver.subscribe(i=>this.onDrag(i,"dest"))],this.vm$=(0,y.a)([this.route.data,this.local.state$]).pipe((0,S.q)(1),(0,I.U)(([i,t])=>({data:i,state:t})),(0,O.b)(i=>this.initStore(i.data.type,i.state))),this.spinner$=this.store.select(U.lY)}ngOnDestroy(){this.local.changeDirection(""),this.msg.dragOff(),this.subs.forEach(i=>i.unsubscribe())}keyup(i){this.value=i,this.local.updateSearchText(i),""==this.value&&this.local.updatePoint([])}initStore(i,t){this.direction=i,this.local.changeDirection(i),"start"==i&&t.start.length>0?(this.value=t.start[1],this.initValue$=this.local.getStartValue()):"dest"==this.direction&&t.destination.length>0&&(this.value=t.destination[1],this.initValue$=this.local.getEndValue())}onDrag(i,t){this.local.changeDirection(t),this.local.updatePoint(i)}}ae.\u0275fac=function(i){return new(i||ae)(e.Y36(c.gz),e.Y36(v),e.Y36(te._),e.Y36(l.yh))},ae.\u0275cmp=e.Xpm({type:ae,selectors:[["places-component"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"icon","placeholder","type","value","title","onType",4,"ngIf"],[3,"icon","placeholder","type","value","title","onType"]],template:function(i,t){1&i&&(e.YNc(0,Ue,4,5,"ng-container",0),e.ALo(1,"async")),2&i&&e.Q6J("ngIf",e.lcZ(1,1,t.vm$))},dependencies:[s.O5,c.lC,ge.S,s.Ov],styles:["[_nghost-%COMP%]{width:25vw;min-width:342px;display:flex;flex-direction:column;font-family:Lexend Deca,sans-serif;align-items:center}  .mat-ink-bar{background-color:#1f63d4!important}  .mat-tab-label,   .mat-tab-label-active{min-width:0!important;padding:3px!important;margin:3px!important;color:#373a50!important;font-weight:700!important}@media screen and (max-width: 800px){[_nghost-%COMP%]{min-width:330px}}@media screen and (max-width: 700px){[_nghost-%COMP%]{min-width:270px}}@media screen and (max-width: 600px){[_nghost-%COMP%]{min-width:250px}}@media screen and (max-width: 500px){[_nghost-%COMP%]{width:100vw}}"]});var de=d(943),me=d(5017),X=d(1281),q=d(7579),z=d(727);let oe=0;const ce=new e.OlP("CdkAccordion");let Rt=(()=>{class a{constructor(){this._stateChanges=new q.x,this._openCloseAllActions=new q.x,this.id="cdk-accordion-"+oe++,this._multi=!1}get multi(){return this._multi}set multi(t){this._multi=(0,X.Ig)(t)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(t){this._stateChanges.next(t)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275dir=e.lG2({type:a,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[e._Bn([{provide:ce,useExisting:a}]),e.TTD]}),a})(),Ft=0,Bt=(()=>{class a{constructor(t,n,o){this.accordion=t,this._changeDetectorRef=n,this._expansionDispatcher=o,this._openCloseAllSubscription=z.w0.EMPTY,this.closed=new e.vpe,this.opened=new e.vpe,this.destroyed=new e.vpe,this.expandedChange=new e.vpe,this.id="cdk-accordion-child-"+Ft++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=o.listen((r,_)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===_&&this.id!==r&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(t){t=(0,X.Ig)(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){this._disabled=(0,X.Ig)(t)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(ce,12),e.Y36(e.sBO),e.Y36(me.A8))},a.\u0275dir=e.lG2({type:a,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[e._Bn([{provide:ce,useValue:void 0}])]}),a})(),Vt=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({}),a})();var re=d(4080),H=d(3238),ke=d(2693),Yt=d(1884),Te=d(8675),A=d(9521),Nt=d(515),He=d(6451),Z=d(7340);const Zt=["body"];function Lt(a,i){}const Ut=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],Ht=["mat-expansion-panel-header","*","mat-action-row"];function Qt(a,i){if(1&a&&e._UZ(0,"span",2),2&a){const t=e.oxw();e.Q6J("@indicatorRotate",t._getExpandedState())}}const Jt=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],qt=["mat-panel-title","mat-panel-description","*"],je=new e.OlP("MAT_ACCORDION"),ht="225ms cubic-bezier(0.4,0.0,0.2,1)",gt={indicatorRotate:(0,Z.X$)("indicatorRotate",[(0,Z.SB)("collapsed, void",(0,Z.oB)({transform:"rotate(0deg)"})),(0,Z.SB)("expanded",(0,Z.oB)({transform:"rotate(180deg)"})),(0,Z.eR)("expanded <=> collapsed, void => collapsed",(0,Z.jt)(ht))]),bodyExpansion:(0,Z.X$)("bodyExpansion",[(0,Z.SB)("collapsed, void",(0,Z.oB)({height:"0px",visibility:"hidden"})),(0,Z.SB)("expanded",(0,Z.oB)({height:"*",visibility:"visible"})),(0,Z.eR)("expanded <=> collapsed, void => collapsed",(0,Z.jt)(ht))])},_t=new e.OlP("MAT_EXPANSION_PANEL");let zt=(()=>{class a{constructor(t,n){this._template=t,this._expansionPanel=n}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(e.Rgc),e.Y36(_t,8))},a.\u0275dir=e.lG2({type:a,selectors:[["ng-template","matExpansionPanelContent",""]]}),a})(),Gt=0;const mt=new e.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let $e=(()=>{class a extends Bt{constructor(t,n,o,r,_,M,L){super(t,n,o),this._viewContainerRef=r,this._animationMode=M,this._hideToggle=!1,this.afterExpand=new e.vpe,this.afterCollapse=new e.vpe,this._inputChanges=new q.x,this._headerId="mat-expansion-panel-header-"+Gt++,this._bodyAnimationDone=new q.x,this.accordion=t,this._document=_,this._bodyAnimationDone.pipe((0,Yt.x)((Q,J)=>Q.fromState===J.fromState&&Q.toState===J.toState)).subscribe(Q=>{"void"!==Q.fromState&&("expanded"===Q.toState?this.afterExpand.emit():"collapsed"===Q.toState&&this.afterCollapse.emit())}),L&&(this.hideToggle=L.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=(0,X.Ig)(t)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe((0,Te.O)(null),(0,x.h)(()=>this.expanded&&!this._portal),(0,S.q)(1)).subscribe(()=>{this._portal=new re.UE(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,n=this._body.nativeElement;return t===n||n.contains(t)}return!1}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(je,12),e.Y36(e.sBO),e.Y36(me.A8),e.Y36(e.s_b),e.Y36(s.K0),e.Y36(e.QbO,8),e.Y36(mt,8))},a.\u0275cmp=e.Xpm({type:a,selectors:[["mat-expansion-panel"]],contentQueries:function(t,n,o){if(1&t&&e.Suo(o,zt,5),2&t){let r;e.iGM(r=e.CRH())&&(n._lazyContent=r.first)}},viewQuery:function(t,n){if(1&t&&e.Gf(Zt,5),2&t){let o;e.iGM(o=e.CRH())&&(n._body=o.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(t,n){2&t&&e.ekj("mat-expanded",n.expanded)("_mat-animation-noopable","NoopAnimations"===n._animationMode)("mat-expansion-panel-spacing",n._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[e._Bn([{provide:je,useValue:void 0},{provide:_t,useExisting:a}]),e.qOj,e.TTD],ngContentSelectors:Ht,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(t,n){1&t&&(e.F$t(Ut),e.Hsn(0),e.TgZ(1,"div",0,1),e.NdJ("@bodyExpansion.done",function(r){return n._bodyAnimationDone.next(r)}),e.TgZ(3,"div",2),e.Hsn(4,1),e.YNc(5,Lt,0,0,"ng-template",3),e.qZA(),e.Hsn(6,2),e.qZA()),2&t&&(e.xp6(1),e.Q6J("@bodyExpansion",n._getExpandedState())("id",n.id),e.uIk("aria-labelledby",n._headerId),e.xp6(4),e.Q6J("cdkPortalOutlet",n._portal))},dependencies:[re.Pl],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[gt.bodyExpansion]},changeDetection:0}),a})();class jt{}const $t=(0,H.sb)(jt);let Ke=(()=>{class a extends $t{constructor(t,n,o,r,_,M,L){super(),this.panel=t,this._element=n,this._focusMonitor=o,this._changeDetectorRef=r,this._animationMode=M,this._parentChangeSubscription=z.w0.EMPTY;const Q=t.accordion?t.accordion._stateChanges.pipe((0,x.h)(J=>!(!J.hideToggle&&!J.togglePosition))):Nt.E;this.tabIndex=parseInt(L||"")||0,this._parentChangeSubscription=(0,He.T)(t.opened,t.closed,Q,t._inputChanges.pipe((0,x.h)(J=>!!(J.hideToggle||J.disabled||J.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe((0,x.h)(()=>t._containsFocus())).subscribe(()=>o.focusVia(n,"program")),_&&(this.expandedHeight=_.expandedHeight,this.collapsedHeight=_.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case A.L_:case A.K5:(0,A.Vb)(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t,n){t?this._focusMonitor.focusVia(this._element,t,n):this._element.nativeElement.focus(n)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return a.\u0275fac=function(t){return new(t||a)(e.Y36($e,1),e.Y36(e.SBq),e.Y36(ke.tE),e.Y36(e.sBO),e.Y36(mt,8),e.Y36(e.QbO,8),e.$8M("tabindex"))},a.\u0275cmp=e.Xpm({type:a,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(t,n){1&t&&e.NdJ("click",function(){return n._toggle()})("keydown",function(r){return n._keydown(r)}),2&t&&(e.uIk("id",n.panel._headerId)("tabindex",n.tabIndex)("aria-controls",n._getPanelId())("aria-expanded",n._isExpanded())("aria-disabled",n.panel.disabled),e.Udp("height",n._getHeaderHeight()),e.ekj("mat-expanded",n._isExpanded())("mat-expansion-toggle-indicator-after","after"===n._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===n._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===n._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[e.qOj],ngContentSelectors:qt,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(t,n){1&t&&(e.F$t(Jt),e.TgZ(0,"span",0),e.Hsn(1),e.Hsn(2,1),e.Hsn(3,2),e.qZA(),e.YNc(4,Qt,1,1,"span",1)),2&t&&(e.ekj("mat-content-hide-toggle",!n._showToggle()),e.xp6(4),e.Q6J("ngIf",n._showToggle()))},dependencies:[s.O5],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[gt.indicatorRotate]},changeDetection:0}),a})(),Kt=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275dir=e.lG2({type:a,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),a})(),ft=(()=>{class a extends Rt{constructor(){super(...arguments),this._ownHeaders=new e.n_E,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(t){this._hideToggle=(0,X.Ig)(t)}ngAfterContentInit(){this._headers.changes.pipe((0,Te.O)(this._headers)).subscribe(t=>{this._ownHeaders.reset(t.filter(n=>n.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new ke.Em(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(t){this._keyManager.onKeydown(t)}_handleHeaderFocus(t){this._keyManager.updateActiveItem(t)}ngOnDestroy(){super.ngOnDestroy(),this._ownHeaders.destroy()}}return a.\u0275fac=function(){let i;return function(n){return(i||(i=e.n5z(a)))(n||a)}}(),a.\u0275dir=e.lG2({type:a,selectors:[["mat-accordion"]],contentQueries:function(t,n,o){if(1&t&&e.Suo(o,Ke,5),2&t){let r;e.iGM(r=e.CRH())&&(n._headers=r)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(t,n){2&t&&e.ekj("mat-accordion-multi",n.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[e._Bn([{provide:je,useExisting:a}]),e.qOj]}),a})(),Xt=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[s.ez,H.BQ,Vt,re.eL]}),a})();function Wt(a,i){1&a&&e._UZ(0,"spinner-component")}function en(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"i",7),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.miniMap())}),e.qZA()}}function tn(a,i){1&a&&(e.TgZ(0,"div"),e._uU(1," mins\xa0"),e.qZA())}function nn(a,i){1&a&&(e.TgZ(0,"div"),e._uU(1," min\xa0"),e.qZA())}function an(a,i){if(1&a&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&a){const t=e.oxw().$implicit;e.xp6(1),e.hij(" Continue ",t.absoluteDirection," ")}}function on(a,i){if(1&a&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&a){const t=e.oxw().$implicit,n=e.oxw(5);e.xp6(1),e.AsE(" ",n.directions[t.relativeDirection]," ",t.streetName," ")}}function rn(a,i){if(1&a&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&a){const t=e.oxw().$implicit;e.xp6(1),e.hij(" heading ",t.absoluteDirection," ")}}function sn(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"div",21),e.NdJ("click",function(){const r=e.CHM(t).$implicit,_=e.oxw(5);return e.KtG(_.focus(r.lat,r.lon))}),e.TgZ(1,"span",22),e._uU(2),e.qZA(),e.TgZ(3,"div",23),e.YNc(4,an,2,1,"div",3),e.YNc(5,on,2,2,"div",3),e.YNc(6,rn,2,1,"div",3),e.qZA(),e.TgZ(7,"div",24),e._uU(8),e.qZA()()}if(2&a){const t=i.$implicit,n=e.oxw(5);e.xp6(2),e.hij(" ",n.arrows[t.relativeDirection]," "),e.xp6(2),e.Q6J("ngIf","road"==t.streetName),e.xp6(1),e.Q6J("ngIf","road"!=t.streetName),e.xp6(1),e.Q6J("ngIf","DEPART"==t.relativeDirection),e.xp6(2),e.hij("",t.distance,"m")}}function ln(a,i){if(1&a&&(e.TgZ(0,"div",12)(1,"div",13)(2,"mat-accordion")(3,"mat-expansion-panel",14)(4,"mat-expansion-panel-header")(5,"mat-panel-title",15)(6,"div",16),e._uU(7,"WALK"),e.qZA(),e.TgZ(8,"span",17),e._uU(9),e.YNc(10,tn,2,0,"div",3),e.YNc(11,nn,2,0,"div",3),e._uU(12),e.qZA(),e._UZ(13,"i",18),e.qZA()(),e.TgZ(14,"div",19),e.YNc(15,sn,9,5,"div",20),e.qZA()()()()()),2&a){const t=e.oxw().$implicit;e.xp6(9),e.AsE("",t.distance,"m, ",t.duration," "),e.xp6(1),e.Q6J("ngIf",t.duration>1),e.xp6(1),e.Q6J("ngIf",t.duration<=1),e.xp6(1),e.hij(" to ",t.to.name,""),e.xp6(3),e.Q6J("ngForOf",t.steps)}}function dn(a,i){1&a&&(e.TgZ(0,"div"),e._uU(1,"mins"),e.qZA())}function cn(a,i){1&a&&(e.TgZ(0,"div"),e._uU(1,"min"),e.qZA())}function pn(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"div",21),e.NdJ("click",function(){const r=e.CHM(t).$implicit,_=e.oxw(5);return e.KtG(_.focus(+r.lat,+r.lon))}),e._UZ(1,"i",31),e.TgZ(2,"span",23),e._uU(3),e.qZA(),e.TgZ(4,"div",24),e._uU(5),e.qZA()()}if(2&a){const t=i.$implicit;e.xp6(3),e.Oqu(t.name),e.xp6(2),e.Oqu(t.arrival)}}function un(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"div",12)(1,"div",13)(2,"mat-accordion")(3,"mat-expansion-panel",14)(4,"mat-expansion-panel-header")(5,"mat-panel-title",15)(6,"div",16),e._uU(7,"BUS"),e.qZA(),e.TgZ(8,"span",17),e._uU(9),e.YNc(10,dn,2,0,"div",3),e.YNc(11,cn,2,0,"div",3),e.qZA(),e._UZ(12,"i",18),e.qZA()(),e.TgZ(13,"div",25)(14,"div",21),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw(3);return e.KtG(r.focus(+o.from.lat,+o.from.lon))}),e._UZ(15,"i",26),e.TgZ(16,"span",23),e._uU(17),e.qZA(),e.TgZ(18,"div",24),e._uU(19),e.qZA()(),e.TgZ(20,"div",27),e._UZ(21,"i",28),e.TgZ(22,"span",23),e._uU(23,"Waiting time"),e.qZA(),e.TgZ(24,"div",24),e._uU(25),e.qZA()(),e.TgZ(26,"div",27),e._UZ(27,"i",28),e.TgZ(28,"span",23),e._uU(29,"Duration"),e.qZA(),e.TgZ(30,"div",24),e._uU(31),e.qZA()(),e.TgZ(32,"mat-accordion")(33,"mat-expansion-panel",14)(34,"mat-expansion-panel-header")(35,"mat-panel-title",15)(36,"div",27),e._UZ(37,"i",29),e.TgZ(38,"span",30),e._uU(39),e.qZA(),e.TgZ(40,"div",24),e._uU(41),e.qZA()()()(),e.TgZ(42,"div",19),e.YNc(43,pn,6,2,"div",20),e.qZA()()(),e.TgZ(44,"div",21),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw(3);return e.KtG(r.focus(+o.to.lat,+o.to.lon))}),e._UZ(45,"i",26),e.TgZ(46,"span",23),e._uU(47),e.qZA(),e.TgZ(48,"div",24),e._uU(49),e.qZA()()()()()()()}if(2&a){const t=e.oxw().$implicit,n=e.oxw(2).ngIf;e.xp6(9),e.AsE("Route ",t.routeShortName,", ",t.duration," "),e.xp6(1),e.Q6J("ngIf",t.duration>1),e.xp6(1),e.Q6J("ngIf",t.duration<=1),e.xp6(6),e.hij("Board at ",t.from.name,""),e.xp6(2),e.Oqu(t.startTime),e.xp6(6),e.hij("",n.itinerary.waitingTime," min"),e.xp6(6),e.hij("",t.duration," min"),e.xp6(8),e.hij("",t.intermediateStops.length," stops"),e.xp6(2),e.hij("",t.duration," mins"),e.xp6(2),e.Q6J("ngForOf",t.intermediateStops),e.xp6(4),e.hij("Alight at ",t.to.name,""),e.xp6(2),e.Oqu(t.to.arrival)}}function hn(a,i){if(1&a&&(e.ynx(0),e.YNc(1,ln,16,6,"div",11),e.YNc(2,un,50,13,"div",11),e.BQk()),2&a){const t=i.$implicit;e.xp6(1),e.Q6J("ngIf","WALK"==t.mode),e.xp6(1),e.Q6J("ngIf","TRAM"==t.mode)}}function gn(a,i){if(1&a&&(e.TgZ(0,"div",8)(1,"span")(2,"strong",9),e._uU(3,"Start"),e.qZA(),e._uU(4),e.qZA(),e.YNc(5,hn,3,2,"ng-container",10),e.TgZ(6,"span")(7,"strong",9),e._uU(8,"End"),e.qZA(),e._uU(9),e.qZA()()),2&a){const t=e.oxw().ngIf;e.xp6(4),e.AsE(": ",t.itinerary.startTime,", ",t.itinerary.serviceDate,""),e.xp6(1),e.Q6J("ngForOf",t.itinerary.legs),e.xp6(4),e.AsE(": ",t.itinerary.endTime,", ",t.itinerary.serviceDate,"")}}function _n(a,i){if(1&a&&(e.ynx(0),e.YNc(1,Wt,1,0,"spinner-component",3),e.TgZ(2,"div",4)(3,"h1"),e._uU(4,"Itinerary Steps"),e.qZA(),e.YNc(5,en,1,0,"i",5),e.qZA(),e.YNc(6,gn,10,5,"div",6),e.BQk()),2&a){const t=i.ngIf,n=e.oxw(),o=e.MAs(4);e.xp6(1),e.Q6J("ngIf",t.spinner),e.xp6(4),e.Q6J("ngIf",n.flag),e.xp6(1),e.Q6J("ngIf",t.itinerary)("ngIfElse",o)}}function mn(a,i){1&a&&(e.TgZ(0,"div",8),e._UZ(1,"app-option",32),e.qZA()),2&a&&(e.xp6(1),e.Q6J("text","No routes found"))}class Ie{constructor(i,t,n){this.store=i,this.msg=t,this.router=n,this.flag=!1,this.arrows={RIGHT:"turn_right",LEFT:"turn_left",DEPART:"arrow_upward",SLIGHTLY_LEFT:"turn_slight_left",SLIGHTLY_RIGHT:"turn_slight_right",CIRCLE_CLOCKWISE:"roundabout_right",CIRCLE_COUNTERCLOCKWISE:"roundabout_left",UTURN_RIGHT:"u_turn_right",UTURN_LEFT:"u_turn_left",CONTINUE:"arrow_upward",HARD_LEFT:"turn_sharp_left",HARD_RIGHT:"turn_sharp_right"},this.directions={RIGHT:"Right on to",LEFT:"Left on to",DEPART:"Start on",SLIGHTLY_LEFT:"Slightly left on to",SLIGHTLY_RIGHT:"Slightly right on to",CIRCLE_CLOCKWISE:"Take roundabout to ",CIRCLE_COUNTERCLOCKWISE:"Take roundabout to",UTURN_RIGHT:"U turn right to",UTURN_LEFT:"U turn left to",CONTINUE:"Continue to",HARD_LEFT:"Sharp left to",HARD_RIGHT:"Sharp right to"}}ngOnInit(){this.showMapIcon(),this.vm$=(0,y.a)([this.store.select(U.vA),this.store.select(U.lY)]).pipe((0,I.U)(([i,t])=>({itinerary:i,spinner:t})))}focus(i,t){this.msg.fly([i+"",t+""])}miniMap(){this.router.navigate([{outlets:{sidebar:["routes","trips","map"]}}],{queryParams:{module:"trip_map"}})}showMapIcon(){this.flag=window.innerWidth<=500}}Ie.\u0275fac=function(i){return new(i||Ie)(e.Y36(l.yh),e.Y36(te._),e.Y36(c.F0))},Ie.\u0275cmp=e.Xpm({type:Ie,selectors:[["app-trip-details"]],hostBindings:function(i,t){1&i&&e.NdJ("resize",function(o){return t.showMapIcon(o)},!1,e.Jf7)},decls:5,vars:4,consts:[[1,"main"],[4,"ngIf","ngIfElse"],["noItineraries",""],[4,"ngIf"],[1,"header"],["class","fas fa-map",3,"click",4,"ngIf"],["class","option-list",4,"ngIf","ngIfElse"],[1,"fas","fa-map",3,"click"],[1,"option-list"],[2,"color","#2b3b4c"],[4,"ngFor","ngForOf"],["class","entity-wrapper",4,"ngIf"],[1,"entity-wrapper"],[1,"entity-container"],["hideToggle",""],[1,"panel-title"],[1,"mode"],[1,"mode-details"],[1,"fas","fa-sort-down"],[1,"walk-steps"],["class","step",3,"click",4,"ngFor","ngForOf"],[1,"step",3,"click"],[1,"material-symbols-outlined"],[1,"step-desc"],[1,"step-dist"],[1,"bus-route"],[1,"fas","fa-bus"],[1,"step"],[1,"far","fa-hourglass"],[1,"fas","fa-route"],[1,"step-desc","stops"],[1,"fas","fa-map-marker-alt"],[3,"text"]],template:function(i,t){if(1&i&&(e.TgZ(0,"div",0),e.YNc(1,_n,7,4,"ng-container",1),e.ALo(2,"async"),e.qZA(),e.YNc(3,mn,2,1,"ng-template",null,2,e.W1O)),2&i){const n=e.MAs(4);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,t.vm$))("ngIfElse",n)}},dependencies:[s.sg,s.O5,p.x,de.O,ft,$e,Ke,Kt,s.Ov],styles:["[_nghost-%COMP%]{width:100%}.option-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;overflow:auto;max-height:calc(100vh - 220px);gap:5px;padding-right:3px}.main[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;width:100%;padding:0 15px;height:calc(100vh - 140px);position:relative}h1[_ngcontent-%COMP%]{color:#2b3b4c;font-family:Lexend Deca,sans-serif;font-weight:600;font-size:18px;margin-top:15px}.entity-wrapper[_ngcontent-%COMP%]{background:rgb(227,227,236);background:linear-gradient(90deg,rgba(227,227,236,1) 0%,rgba(255,255,255,1) 100%);box-shadow:#63636333 0 2px 8px}.entity-wrapper[_ngcontent-%COMP%]:hover{cursor:pointer}.entity-container[_ngcontent-%COMP%]{color:#545f6d;font-size:14px;padding:10px}.panel-title[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:5px}.mode[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#2e3e51}.mode-details[_ngcontent-%COMP%]{font-size:12px;color:#2e3e51;display:flex;flex-direction:row;flex-wrap:nowrap}.walk-steps[_ngcontent-%COMP%], .bus-route[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px;padding:8px;width:100%}.step[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;gap:8px;padding:3px;background:linear-gradient(90deg,rgb(210 210 225) 0%,rgb(245 245 255) 100%);align-items:center}.step[_ngcontent-%COMP%] > i[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{color:#2e3e51!important;font-weight:700!important}.step-desc[_ngcontent-%COMP%]{color:#2e3e51;font-size:12px}.stops[_ngcontent-%COMP%]{padding:.2em .4em;font-style:italic;font-weight:700;cursor:pointer}.step-dist[_ngcontent-%COMP%]{color:#545f6d;font-size:11px;font-weight:700;margin-left:auto}.fa-sort-down[_ngcontent-%COMP%]{margin-left:auto;color:#002d62}  .mat-expansion-panel-header{padding:0!important;background:none!important;height:unset!important}  .mat-expansion-panel{background:transparent!important}  .mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:none!important}  .mat-expansion-panel-header.mat-expanded{height:unset}  .mat-expansion-panel-body{padding:0!important}  .mat-flat-button.mat-primary, .mat-raised-button.mat-primary[_ngcontent-%COMP%], .mat-fab.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%]{background-color:#002d62}  .mat-raised-button{min-width:unset!important;line-height:unset!important;padding:1px 5px 0!important;font-size:14px!important}  .mat-expansion-panel-header-title, .mat-expansion-panel-header-description[_ngcontent-%COMP%]{margin-right:0!important}.header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding-right:10px;gap:5px}.fa-map[_ngcontent-%COMP%]{font-size:20px!important;padding:6px!important;transition-duration:.4s;border-radius:3px;color:#002d62}.fa-map[_ngcontent-%COMP%]:hover{background:#b7cbe4}.book-menu[_ngcontent-%COMP%]{margin-right:10px;margin-left:5px}  .mat-button.mat-primary, .mat-icon-button.mat-primary[_ngcontent-%COMP%], .mat-stroked-button.mat-primary[_ngcontent-%COMP%]{color:#2b3b4c!important}  .mat-button, .mat-icon-button[_ngcontent-%COMP%], .mat-stroked-button[_ngcontent-%COMP%]{background:rgb(0 0 0 / 10%)!important}  .mat-content.mat-content-hide-toggle{margin-right:0!important}button[_ngcontent-%COMP%]{font-size:14px!important;font-weight:700}"]});var fe=d(3900),vt=d(2468);const fn={delete_id:-1,toaster:new q.x,info:void 0,book:!1};class ie extends f.m1{constructor(i,t,n){super(fn),this.data=i,this.store=t,this.router=n,this.deleteComplete=this.updater((o,r)=>(o.toaster.next(r),{...o,delete_id:-1})),this.changeDelete=this.updater((o,r)=>({...o,delete_id:r})),this.initBooking=this.updater((o,r)=>({...o,info:{...r},book:!0})),this.bookingCompleted=this.updater((o,r)=>(o.toaster.next(r),{...o,book:!1})),this.dispatchBooking=this.effect(()=>this.state$.pipe((0,x.h)(o=>o.book&&!!o.info),(0,fe.w)(o=>this.store.select((0,U.ij)(o.info.user,o.info.it))),(0,fe.w)(o=>this.data.book(o).pipe((0,f._b)(r=>{this.bookingCompleted("\u0395\u03c0\u03b9\u03c4\u03c5\u03c7\u03af\u03b1 \u03ba\u03c1\u03ac\u03c4\u03b7\u03c3\u03b7\u03c2"),this.store.dispatch(k.mv({bookings:o}))},r=>this.bookingCompleted(r.error.error)))))),this.deleteBooking=this.effect(()=>this.state$.pipe((0,x.h)(o=>-1!=o.delete_id),(0,fe.w)(o=>this.store.select((0,U.kU)(o.delete_id))),(0,x.h)(o=>!!o),(0,fe.w)(o=>this.data.deleteBooking(o).pipe((0,f._b)(r=>{this.deleteComplete("\u0397 \u03ba\u03c1\u03ac\u03c4\u03b7\u03c3\u03b7 \u03b1\u03ba\u03c5\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5"),this.store.dispatch(k.FF({trip_id:o.trip_id}))},r=>{this.deleteComplete(r.error)})))))}}ie.\u0275fac=function(i){return new(i||ie)(e.LFG(vt.D),e.LFG(l.yh),e.LFG(c.F0))},ie.\u0275prov=e.Yz7({token:ie,factory:ie.\u0275fac});var Ct=d(1868),Xe=d(47),pe=d(4859);function vn(a,i){if(1&a&&(e.TgZ(0,"div",19),e._UZ(1,"i",20),e.qZA()),2&a){const t=e.oxw().$implicit;e.Udp("flex",t.flex)}}function Cn(a,i){if(1&a&&(e.TgZ(0,"div",21),e._UZ(1,"i",22),e.TgZ(2,"div",23),e._uU(3),e.qZA()()),2&a){const t=e.oxw().$implicit;e.Udp("flex",t.flex),e.xp6(3),e.Oqu(t.routeId)}}function xn(a,i){if(1&a&&(e.ynx(0),e.YNc(1,vn,2,2,"div",17),e.YNc(2,Cn,4,3,"div",18),e.BQk()),2&a){const t=i.$implicit;e.xp6(1),e.Q6J("ngIf","WALK"==t.mode),e.xp6(1),e.Q6J("ngIf","TRAM"==t.mode)}}function yn(a,i){if(1&a&&(e.TgZ(0,"div",25)(1,"div",26),e._uU(2," Route "),e.qZA(),e.TgZ(3,"div",27),e._uU(4),e.qZA()()),2&a){const t=e.oxw().$implicit;e.xp6(4),e.hij(" ",t.routeId," ")}}function bn(a,i){if(1&a&&(e.TgZ(0,"div",25)(1,"div",26),e._uU(2," From "),e.qZA(),e.TgZ(3,"div",27),e._uU(4),e.qZA()()),2&a){const t=e.oxw().$implicit;e.xp6(4),e.lnq(" ",t.from.name,"(",t.from.stopCode,"), ",t.startTime," ")}}function Dn(a,i){if(1&a&&(e.TgZ(0,"div",25)(1,"div",26),e._uU(2," To "),e.qZA(),e.TgZ(3,"div",27),e._uU(4),e.qZA()()),2&a){const t=e.oxw().$implicit;e.xp6(4),e.lnq(" ",t.to.name,"(",t.to.stopCode,"), ",t.endTime," ")}}function wn(a,i){if(1&a&&(e.TgZ(0,"div",25)(1,"div",26),e._uU(2," Seats "),e.qZA(),e.TgZ(3,"div",27),e._uU(4),e.qZA()()),2&a){const t=e.oxw().$implicit,n=e.oxw(2);e.xp6(4),e.hij(" ",n.occupancy[t.tripId]," ")}}function Mn(a,i){if(1&a&&(e.ynx(0),e.YNc(1,yn,5,1,"div",24),e.YNc(2,bn,5,3,"div",24),e.YNc(3,Dn,5,3,"div",24),e.YNc(4,wn,5,1,"div",24),e.BQk()),2&a){const t=i.$implicit;e.xp6(1),e.Q6J("ngIf","TRAM"==t.mode),e.xp6(1),e.Q6J("ngIf","TRAM"==t.mode),e.xp6(1),e.Q6J("ngIf","TRAM"==t.mode),e.xp6(1),e.Q6J("ngIf","TRAM"==t.mode)}}function An(a,i){if(1&a){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",1)(2,"div",2)(3,"mat-accordion")(4,"mat-expansion-panel",3)(5,"mat-expansion-panel-header"),e._UZ(6,"i",4),e.TgZ(7,"div",5),e._UZ(8,"div",6),e.TgZ(9,"div",7),e._uU(10),e.qZA(),e.YNc(11,xn,3,2,"ng-container",8),e.TgZ(12,"div",7)(13,"span",9),e._uU(14),e.qZA()()()(),e.TgZ(15,"div",10)(16,"div",11)(17,"span",12),e._uU(18,"Summary"),e.qZA(),e.TgZ(19,"div",13)(20,"i",14),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSelect())}),e.qZA(),e.TgZ(21,"section")(22,"div",15)(23,"button",16),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onBook())}),e._uU(24,"\u039a\u03c1\u03ac\u03c4\u03b7\u03c3\u03b7"),e.qZA()()()()(),e.YNc(25,Mn,5,4,"ng-container",8),e.qZA()()()()(),e.BQk()}if(2&a){const t=i.ngIf;e.xp6(10),e.Oqu(t.startTime),e.xp6(1),e.Q6J("ngForOf",t.legs),e.xp6(3),e.Oqu(t.endTime),e.xp6(11),e.Q6J("ngForOf",t.legs)}}class Ee{constructor(){this.data=0,this.itinerary=null,this.date="",this.occupancy={},this.msg=new e.vpe,this.book=new e.vpe}ngOnInit(){}onSelect(){this.msg.emit(this.data)}get getDate(){return this.date.split(",")[0]}onBook(){this.book.next(this.data)}}function kn(a,i){1&a&&e._UZ(0,"spinner-component")}function Tn(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"trip-component",8),e.NdJ("msg",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.onSelect(o))})("book",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.onBook(o))}),e.qZA()}if(2&a){const t=i.$implicit,n=i.index,o=e.oxw(2).ngIf;e.Q6J("itinerary",t)("date",o.plan.date)("data",n)("occupancy",o.occupancy)}}function In(a,i){if(1&a&&(e.TgZ(0,"div",6),e.YNc(1,Tn,1,4,"trip-component",7),e.qZA()),2&a){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",t.plan.itineraries)}}function En(a,i){if(1&a&&(e.TgZ(0,"div",2),e.YNc(1,kn,1,0,"spinner-component",3),e._UZ(2,"toaster-component",4),e.TgZ(3,"h1"),e._uU(4,"Itineraries"),e.qZA(),e.YNc(5,In,2,1,"div",5),e.qZA()),2&a){const t=i.ngIf;e.oxw();const n=e.MAs(3);e.xp6(1),e.Q6J("ngIf",t.spinner||t.state.book),e.xp6(1),e.Q6J("msg$",t.state.toaster),e.xp6(3),e.Q6J("ngIf",t.plan&&t.plan.itineraries.length>0)("ngIfElse",n)}}function Pn(a,i){1&a&&(e.TgZ(0,"div",6),e._UZ(1,"app-option",9),e.qZA()),2&a&&(e.xp6(1),e.Q6J("text","No itineraries found"))}Ee.\u0275fac=function(i){return new(i||Ee)},Ee.\u0275cmp=e.Xpm({type:Ee,selectors:[["trip-component"]],inputs:{data:"data",itinerary:"itinerary",date:"date",occupancy:"occupancy"},outputs:{msg:"msg",book:"book"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"entity-wrapper"],[1,"entity-container"],["hideToggle",""],[1,"fas","fa-sort-down"],[1,"context"],[1,"line"],[1,"time"],[4,"ngFor","ngForOf"],[1,""],[1,"sumary-section"],[1,"header"],[1,"malakas"],[1,"inner-malakas"],[1,"fas","fa-map",3,"click"],[1,"example-button-row"],["mat-raised-button","","color","primary",1,"custom-btn",3,"click"],["class","walk-mode trail",3,"flex",4,"ngIf"],["class","bus-mode trail",3,"flex",4,"ngIf"],[1,"walk-mode","trail"],[1,"fa","fa-walking"],[1,"bus-mode","trail"],[1,"fa","fa-bus"],[1,"code"],["class","field",4,"ngIf"],[1,"field"],[1,"title"],[1,"value"]],template:function(i,t){1&i&&e.YNc(0,An,26,4,"ng-container",0),2&i&&e.Q6J("ngIf",t.itinerary)},dependencies:[s.sg,s.O5,ft,$e,Ke,pe.lW],styles:["[_nghost-%COMP%]{width:100%}[_nghost-%COMP%]:hover{cursor:pointer;transform:translate(3px);transition-duration:.5s}.entity-wrapper[_ngcontent-%COMP%]{background:rgb(227,227,236);background:linear-gradient(90deg,rgba(227,227,236,1) 0%,rgba(255,255,255,1) 100%);box-shadow:#63636333 0 2px 8px;cursor:pointer}.entity-container[_ngcontent-%COMP%]{color:#545f6d;font-size:14px;padding:10px}.context[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;gap:3px;position:relative;font-size:13px}.bus-mode[_ngcontent-%COMP%]{flex:1 1;background:#002D62}.walk-mode[_ngcontent-%COMP%]{flex:1 1;background:rgb(187,187,187)}.trail[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;color:#fff;z-index:3;padding-right:5px;padding-left:5px}.code[_ngcontent-%COMP%]{margin-left:4px;margin-top:1px}.time[_ngcontent-%COMP%]{background-color:#000;color:#fff;font-size:11px;font-weight:700;align-self:center;height:14px;line-height:15px;padding-left:2px;padding-right:2px;z-index:3}.line[_ngcontent-%COMP%]{position:absolute;top:9px;right:0;z-index:1;width:100%;border-bottom:2px solid rgb(20,20,20)}.sumary-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:10px 5px 0}.header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;margin-bottom:5px;margin-top:3px;align-items:center}.malakas[_ngcontent-%COMP%]{color:#2e3e51;font-weight:700;font-size:16px}.field[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:10px;font-weight:700;width:100%}.title[_ngcontent-%COMP%]{color:#2e3e51;font-size:14px;font-weight:700;white-space:nowrap}.value[_ngcontent-%COMP%]{color:#545f6d;font-size:13px}  .mat-expansion-panel-header{padding:0!important}  .mat-expansion-panel-header{height:21px}  .mat-expansion-panel{background:transparent!important}  .mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:none!important}  .mat-expansion-panel-header.mat-expanded{height:unset}  .mat-expansion-panel-body{padding:0!important}  .mat-flat-button.mat-primary, .mat-raised-button.mat-primary[_ngcontent-%COMP%], .mat-fab.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%]{background-color:#002d62}.mat-raised-button[_ngcontent-%COMP%]{min-width:unset!important;line-height:unset!important;padding:4px 7px 3px!important;font-size:18px!important}.fa-sort-down[_ngcontent-%COMP%]{color:#2e3e51;margin-right:5px}.inner-malakas[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:8px}.inner-malakas[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{color:#002d62;font-size:14px}.book-btn[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:8px}.book-btn[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{padding:4px 18px!important;font-size:18px!important}.custom[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{padding-left:5px!important;padding-right:5px!important}.fa-map[_ngcontent-%COMP%]{font-size:20px!important;padding:6px!important;transition-duration:.4s;border-radius:3px}.fa-map[_ngcontent-%COMP%]:hover{background:#b7cbe4}"]});class Pe{constructor(i,t,n,o){this.store=i,this.router=t,this.auth=n,this.local=o,this.fetched=!1}ngOnInit(){this.vm$=(0,y.a)([this.store.select(U.oU),this.local.state$,this.store.select(U.lY),this.store.select(U.SH)]).pipe((0,I.U)(([i,t,n,o])=>({plan:i,state:t,spinner:n,occupancy:o}))),this.local.dispatchBooking()}onSelect(i){this.router.navigate([{outlets:{sidebar:["routes","trips",i]}}],{queryParams:{module:"trip_details"}})}onBook(i){const t=this.auth.getUserInfo().user_id;this.local.initBooking({user:t,it:i})}}Pe.\u0275fac=function(i){return new(i||Pe)(e.Y36(l.yh),e.Y36(c.F0),e.Y36(Ct.e),e.Y36(ie))},Pe.\u0275cmp=e.Xpm({type:Pe,selectors:[["trip-list"]],features:[e._Bn([ie])],decls:4,vars:4,consts:[["class","main",4,"ngIf","ngIfElse"],["noItineraries",""],[1,"main"],[4,"ngIf"],[3,"msg$"],["class","option-list",4,"ngIf","ngIfElse"],[1,"option-list"],[3,"itinerary","date","data","occupancy","msg","book",4,"ngFor","ngForOf"],[3,"itinerary","date","data","occupancy","msg","book"],[3,"text"]],template:function(i,t){if(1&i&&(e.YNc(0,En,6,4,"div",0),e.ALo(1,"async"),e.YNc(2,Pn,2,1,"ng-template",null,1,e.W1O)),2&i){const n=e.MAs(3);e.Q6J("ngIf",e.lcZ(1,2,t.vm$))("ngIfElse",n)}},dependencies:[s.sg,s.O5,p.x,de.O,Xe.B,Ee,s.Ov],styles:["[_nghost-%COMP%]{width:100%}.option-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;overflow:auto;max-height:calc(100vh - 220px);padding-right:3px;gap:10px}h1[_ngcontent-%COMP%]{margin-top:15px;color:#2b3b4c;font-family:Lexend Deca,sans-serif;font-weight:600;font-size:18px}.main[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;width:100%;padding:0 15px;height:calc(100vh - 140px);position:relative}"]});var K=d(4006),ve=d(9549),xt=d(4385),Se=d(8184),Sn=d(4098),We=d(9646),Qe=d(445),On=d(3353),et=d(4144);const Rn=["mat-calendar-body",""];function Fn(a,i){if(1&a&&(e.TgZ(0,"tr",2)(1,"td",3),e._uU(2),e.qZA()()),2&a){const t=e.oxw();e.xp6(1),e.Udp("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),e.uIk("colspan",t.numCols),e.xp6(1),e.hij(" ",t.label," ")}}function Bn(a,i){if(1&a&&(e.TgZ(0,"td",3),e._uU(1),e.qZA()),2&a){const t=e.oxw(2);e.Udp("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),e.uIk("colspan",t._firstRowOffset),e.xp6(1),e.hij(" ",t._firstRowOffset>=t.labelMinRequiredCells?t.label:""," ")}}function Vn(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"td",7)(1,"button",8),e.NdJ("click",function(o){const _=e.CHM(t).$implicit,M=e.oxw(2);return e.KtG(M._cellClicked(_,o))})("focus",function(o){const _=e.CHM(t).$implicit,M=e.oxw(2);return e.KtG(M._emitActiveDateChange(_,o))}),e.TgZ(2,"div",9),e._uU(3),e.qZA(),e._UZ(4,"div",10),e.qZA()()}if(2&a){const t=i.$implicit,n=i.index,o=e.oxw().index,r=e.oxw();e.Udp("width",r._cellWidth)("padding-top",r._cellPadding)("padding-bottom",r._cellPadding),e.uIk("data-mat-row",o)("data-mat-col",n),e.xp6(1),e.ekj("mat-calendar-body-disabled",!t.enabled)("mat-calendar-body-active",r._isActiveCell(o,n))("mat-calendar-body-range-start",r._isRangeStart(t.compareValue))("mat-calendar-body-range-end",r._isRangeEnd(t.compareValue))("mat-calendar-body-in-range",r._isInRange(t.compareValue))("mat-calendar-body-comparison-bridge-start",r._isComparisonBridgeStart(t.compareValue,o,n))("mat-calendar-body-comparison-bridge-end",r._isComparisonBridgeEnd(t.compareValue,o,n))("mat-calendar-body-comparison-start",r._isComparisonStart(t.compareValue))("mat-calendar-body-comparison-end",r._isComparisonEnd(t.compareValue))("mat-calendar-body-in-comparison-range",r._isInComparisonRange(t.compareValue))("mat-calendar-body-preview-start",r._isPreviewStart(t.compareValue))("mat-calendar-body-preview-end",r._isPreviewEnd(t.compareValue))("mat-calendar-body-in-preview",r._isInPreview(t.compareValue)),e.Q6J("ngClass",t.cssClasses)("tabindex",r._isActiveCell(o,n)?0:-1),e.uIk("aria-label",t.ariaLabel)("aria-disabled",!t.enabled||null)("aria-pressed",r._isSelected(t.compareValue))("aria-current",r.todayValue===t.compareValue?"date":null),e.xp6(1),e.ekj("mat-calendar-body-selected",r._isSelected(t.compareValue))("mat-calendar-body-comparison-identical",r._isComparisonIdentical(t.compareValue))("mat-calendar-body-today",r.todayValue===t.compareValue),e.xp6(1),e.hij(" ",t.displayValue," ")}}function Yn(a,i){if(1&a&&(e.TgZ(0,"tr",4),e.YNc(1,Bn,2,6,"td",5),e.YNc(2,Vn,5,47,"td",6),e.qZA()),2&a){const t=i.$implicit,n=i.index,o=e.oxw();e.xp6(1),e.Q6J("ngIf",0===n&&o._firstRowOffset),e.xp6(1),e.Q6J("ngForOf",t)}}function Nn(a,i){if(1&a&&(e.TgZ(0,"th",5)(1,"span",6),e._uU(2),e.qZA(),e.TgZ(3,"span",7),e._uU(4),e.qZA()()),2&a){const t=i.$implicit;e.xp6(2),e.Oqu(t.long),e.xp6(2),e.Oqu(t.narrow)}}const Zn=["*"];function Ln(a,i){}function Un(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"mat-month-view",5),e.NdJ("activeDateChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.activeDate=o)})("_userSelection",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r._dateSelected(o))}),e.qZA()}if(2&a){const t=e.oxw();e.Q6J("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)("comparisonStart",t.comparisonStart)("comparisonEnd",t.comparisonEnd)}}function Hn(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"mat-year-view",6),e.NdJ("activeDateChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.activeDate=o)})("monthSelected",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r._monthSelectedInYearView(o))})("selectedChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r._goToDateInView(o,"month"))}),e.qZA()}if(2&a){const t=e.oxw();e.Q6J("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)}}function Qn(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"mat-multi-year-view",7),e.NdJ("activeDateChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.activeDate=o)})("yearSelected",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r._yearSelectedInMultiYearView(o))})("selectedChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r._goToDateInView(o,"year"))}),e.qZA()}if(2&a){const t=e.oxw();e.Q6J("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)}}function Jn(a,i){}const qn=["button"];function zn(a,i){1&a&&(e.O4$(),e.TgZ(0,"svg",3),e._UZ(1,"path",4),e.qZA())}const Gn=[[["","matDatepickerToggleIcon",""]]],jn=["[matDatepickerToggleIcon]"];let Oe=(()=>{class a{constructor(){this.changes=new q.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(t,n){return`${t} \u2013 ${n}`}formatYearRangeLabel(t,n){return`${t} to ${n}`}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();class tt{constructor(i,t,n,o,r={},_=i,M){this.value=i,this.displayValue=t,this.ariaLabel=n,this.enabled=o,this.cssClasses=r,this.compareValue=_,this.rawValue=M}}let Ce=(()=>{class a{constructor(t,n){this._elementRef=t,this._ngZone=n,this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new e.vpe,this.previewChange=new e.vpe,this.activeDateChange=new e.vpe,this._enterHandler=o=>{if(this._skipNextFocus&&"focus"===o.type)this._skipNextFocus=!1;else if(o.target&&this.isRange){const r=this._getCellFromElement(o.target);r&&this._ngZone.run(()=>this.previewChange.emit({value:r.enabled?r:null,event:o}))}},this._leaveHandler=o=>{null!==this.previewEnd&&this.isRange&&o.target&&this._getCellFromElement(o.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:o}))},n.runOutsideAngular(()=>{const o=t.nativeElement;o.addEventListener("mouseenter",this._enterHandler,!0),o.addEventListener("focus",this._enterHandler,!0),o.addEventListener("mouseleave",this._leaveHandler,!0),o.addEventListener("blur",this._leaveHandler,!0)})}ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}_cellClicked(t,n){t.enabled&&this.selectedValueChange.emit({value:t.value,event:n})}_emitActiveDateChange(t,n){t.enabled&&this.activeDateChange.emit({value:t.value,event:n})}_isSelected(t){return this.startValue===t||this.endValue===t}ngOnChanges(t){const n=t.numCols,{rows:o,numCols:r}=this;(t.rows||n)&&(this._firstRowOffset=o&&o.length&&o[0].length?r-o[0].length:0),(t.cellAspectRatio||n||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/r+"%"),(n||!this._cellWidth)&&(this._cellWidth=100/r+"%")}ngOnDestroy(){const t=this._elementRef.nativeElement;t.removeEventListener("mouseenter",this._enterHandler,!0),t.removeEventListener("focus",this._enterHandler,!0),t.removeEventListener("mouseleave",this._leaveHandler,!0),t.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(t,n){let o=t*this.numCols+n;return t&&(o-=this._firstRowOffset),o==this.activeCell}_focusActiveCell(t=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,S.q)(1)).subscribe(()=>{setTimeout(()=>{const n=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");n&&(t||(this._skipNextFocus=!0),n.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(t){return nt(t,this.startValue,this.endValue)}_isRangeEnd(t){return at(t,this.startValue,this.endValue)}_isInRange(t){return it(t,this.startValue,this.endValue,this.isRange)}_isComparisonStart(t){return nt(t,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(t,n,o){if(!this._isComparisonStart(t)||this._isRangeStart(t)||!this._isInRange(t))return!1;let r=this.rows[n][o-1];if(!r){const _=this.rows[n-1];r=_&&_[_.length-1]}return r&&!this._isRangeEnd(r.compareValue)}_isComparisonBridgeEnd(t,n,o){if(!this._isComparisonEnd(t)||this._isRangeEnd(t)||!this._isInRange(t))return!1;let r=this.rows[n][o+1];if(!r){const _=this.rows[n+1];r=_&&_[0]}return r&&!this._isRangeStart(r.compareValue)}_isComparisonEnd(t){return at(t,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(t){return it(t,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(t){return this.comparisonStart===this.comparisonEnd&&t===this.comparisonStart}_isPreviewStart(t){return nt(t,this.previewStart,this.previewEnd)}_isPreviewEnd(t){return at(t,this.previewStart,this.previewEnd)}_isInPreview(t){return it(t,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(t){let n;if(yt(t)?n=t:yt(t.parentNode)&&(n=t.parentNode),n){const o=n.getAttribute("data-mat-row"),r=n.getAttribute("data-mat-col");if(o&&r)return this.rows[parseInt(o)][parseInt(r)]}return null}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(e.SBq),e.Y36(e.R0b))},a.\u0275cmp=e.Xpm({type:a,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange"},exportAs:["matCalendarBody"],features:[e.TTD],attrs:Rn,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(t,n){1&t&&(e.YNc(0,Fn,3,6,"tr",0),e.YNc(1,Yn,3,2,"tr",1)),2&t&&(e.Q6J("ngIf",n._firstRowOffset<n.labelMinRequiredCells),e.xp6(1),e.Q6J("ngForOf",n.rows))},dependencies:[s.mk,s.sg,s.O5],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0}),a})();function yt(a){return"TD"===a.nodeName}function nt(a,i,t){return null!==t&&i!==t&&a<t&&a===i}function at(a,i,t){return null!==i&&i!==t&&a>=i&&a===t}function it(a,i,t,n){return n&&null!==i&&null!==t&&i!==t&&a>=i&&a<=t}class W{constructor(i,t){this.start=i,this.end=t}}let se=(()=>{class a{constructor(t,n){this.selection=t,this._adapter=n,this._selectionChanged=new q.x,this.selectionChanged=this._selectionChanged,this.selection=t}updateSelection(t,n){const o=this.selection;this.selection=t,this._selectionChanged.next({selection:t,source:n,oldValue:o})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(t){return this._adapter.isDateInstance(t)&&this._adapter.isValid(t)}}return a.\u0275fac=function(t){e.$Z()},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac}),a})(),$n=(()=>{class a extends se{constructor(t){super(null,t)}add(t){super.updateSelection(t,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const t=new a(this._adapter);return t.updateSelection(this.selection,this),t}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(H._A))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac}),a})();const bt={provide:se,deps:[[new e.FiY,new e.tp0,se],H._A],useFactory:function Xn(a,i){return a||new $n(i)}},Je=new e.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let Dt=(()=>{class a{constructor(t,n,o,r,_){this._changeDetectorRef=t,this._dateFormats=n,this._dateAdapter=o,this._dir=r,this._rangeStrategy=_,this._rerenderSubscription=z.w0.EMPTY,this.selectedChange=new e.vpe,this._userSelection=new e.vpe,this.activeDateChange=new e.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(t){const n=this._activeDate,o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(o,this.minDate,this.maxDate),this._hasSameMonthAndYear(n,this._activeDate)||this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof W?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,Te.O)(null)).subscribe(()=>this._init())}ngOnChanges(t){const n=t.comparisonStart||t.comparisonEnd;n&&!n.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(t){const n=t.value,o=this._getDateFromDayOfMonth(n);let r,_;this._selected instanceof W?(r=this._getDateInCurrentMonth(this._selected.start),_=this._getDateInCurrentMonth(this._selected.end)):r=_=this._getDateInCurrentMonth(this._selected),(r!==n||_!==n)&&this.selectedChange.emit(o),this._userSelection.emit({value:o,event:t.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_updateActiveDate(t){const o=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(t.value),this._dateAdapter.compareDate(o,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(t){const n=this._activeDate,o=this._isRtl();switch(t.keyCode){case A.oh:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,o?1:-1);break;case A.SV:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,o?-1:1);break;case A.LH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case A.JH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case A.Sd:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case A.uR:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case A.Ku:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case A.VM:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case A.K5:case A.L_:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&t.preventDefault());case A.hY:return void(null!=this._previewEnd&&!(0,A.Vb)(t)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:t}),t.preventDefault(),t.stopPropagation()));default:return}this._dateAdapter.compareDate(n,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),t.preventDefault()}_handleCalendarBodyKeyup(t){(t.keyCode===A.L_||t.keyCode===A.K5)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(t)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(t){this._matCalendarBody._focusActiveCell(t)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:t,value:n}){if(this._rangeStrategy){const r=this._rangeStrategy.createPreview(n?n.rawValue:null,this.selected,t);this._previewStart=this._getCellCompareValue(r.start),this._previewEnd=this._getCellCompareValue(r.end),this._changeDetectorRef.detectChanges()}}_getDateFromDayOfMonth(t){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),t)}_initWeekdays(){const t=this._dateAdapter.getFirstDayOfWeek(),n=this._dateAdapter.getDayOfWeekNames("narrow");let r=this._dateAdapter.getDayOfWeekNames("long").map((_,M)=>({long:_,narrow:n[M]}));this._weekdays=r.slice(t).concat(r.slice(0,t))}_createWeekCells(){const t=this._dateAdapter.getNumDaysInMonth(this.activeDate),n=this._dateAdapter.getDateNames();this._weeks=[[]];for(let o=0,r=this._firstWeekOffset;o<t;o++,r++){7==r&&(this._weeks.push([]),r=0);const _=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),o+1),M=this._shouldEnableDate(_),L=this._dateAdapter.format(_,this._dateFormats.display.dateA11yLabel),Q=this.dateClass?this.dateClass(_,"month"):void 0;this._weeks[this._weeks.length-1].push(new tt(o+1,n[o],L,M,Q,this._getCellCompareValue(_),_))}}_shouldEnableDate(t){return!!t&&(!this.minDate||this._dateAdapter.compareDate(t,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(t,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(t))}_getDateInCurrentMonth(t){return t&&this._hasSameMonthAndYear(t,this.activeDate)?this._dateAdapter.getDate(t):null}_hasSameMonthAndYear(t,n){return!(!t||!n||this._dateAdapter.getMonth(t)!=this._dateAdapter.getMonth(n)||this._dateAdapter.getYear(t)!=this._dateAdapter.getYear(n))}_getCellCompareValue(t){if(t){const n=this._dateAdapter.getYear(t),o=this._dateAdapter.getMonth(t),r=this._dateAdapter.getDate(t);return new Date(n,o,r).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(t){t instanceof W?(this._rangeStart=this._getCellCompareValue(t.start),this._rangeEnd=this._getCellCompareValue(t.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(t),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(t){return!this.dateFilter||this.dateFilter(t)}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(e.sBO),e.Y36(H.sG,8),e.Y36(H._A,8),e.Y36(Qe.Is,8),e.Y36(Je,8))},a.\u0275cmp=e.Xpm({type:a,selectors:[["mat-month-view"]],viewQuery:function(t,n){if(1&t&&e.Gf(Ce,5),2&t){let o;e.iGM(o=e.CRH())&&(n._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[e.TTD],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","activeDateChange","previewChange","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(t,n){1&t&&(e.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),e.YNc(3,Nn,5,2,"th",2),e.qZA(),e.TgZ(4,"tr"),e._UZ(5,"th",3),e.qZA()(),e.TgZ(6,"tbody",4),e.NdJ("selectedValueChange",function(r){return n._dateSelected(r)})("activeDateChange",function(r){return n._updateActiveDate(r)})("previewChange",function(r){return n._previewChanged(r)})("keyup",function(r){return n._handleCalendarBodyKeyup(r)})("keydown",function(r){return n._handleCalendarBodyKeydown(r)}),e.qZA()()),2&t&&(e.xp6(3),e.Q6J("ngForOf",n._weekdays),e.xp6(3),e.Q6J("label",n._monthLabel)("rows",n._weeks)("todayValue",n._todayDate)("startValue",n._rangeStart)("endValue",n._rangeEnd)("comparisonStart",n._comparisonRangeStart)("comparisonEnd",n._comparisonRangeEnd)("previewStart",n._previewStart)("previewEnd",n._previewEnd)("isRange",n._isRange)("labelMinRequiredCells",3)("activeCell",n._dateAdapter.getDate(n.activeDate)-1))},dependencies:[s.sg,Ce],encapsulation:2,changeDetection:0}),a})(),wt=(()=>{class a{constructor(t,n,o){this._changeDetectorRef=t,this._dateAdapter=n,this._dir=o,this._rerenderSubscription=z.w0.EMPTY,this.selectedChange=new e.vpe,this.yearSelected=new e.vpe,this.activeDateChange=new e.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(t){let n=this._activeDate;const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(o,this.minDate,this.maxDate),Mt(this._dateAdapter,n,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof W?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedYear(t)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,Te.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const n=this._dateAdapter.getYear(this._activeDate)-Re(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let o=0,r=[];o<24;o++)r.push(n+o),4==r.length&&(this._years.push(r.map(_=>this._createCellForYear(_))),r=[]);this._changeDetectorRef.markForCheck()}_yearSelected(t){const n=t.value,o=this._dateAdapter.createDate(n,0,1),r=this._getDateFromYear(n);this.yearSelected.emit(o),this.selectedChange.emit(r)}_updateActiveDate(t){const o=this._activeDate;this.activeDate=this._getDateFromYear(t.value),this._dateAdapter.compareDate(o,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(t){const n=this._activeDate,o=this._isRtl();switch(t.keyCode){case A.oh:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,o?1:-1);break;case A.SV:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,o?-1:1);break;case A.LH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case A.JH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case A.Sd:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Re(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case A.uR:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-Re(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case A.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-240:-24);break;case A.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?240:24);break;case A.K5:case A.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),t.preventDefault()}_handleCalendarBodyKeyup(t){(t.keyCode===A.L_||t.keyCode===A.K5)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_getActiveCell(){return Re(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(t){const n=this._dateAdapter.getMonth(this.activeDate),o=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(t,n,1));return this._dateAdapter.createDate(t,n,Math.min(this._dateAdapter.getDate(this.activeDate),o))}_createCellForYear(t){const n=this._dateAdapter.createDate(t,0,1),o=this._dateAdapter.getYearName(n),r=this.dateClass?this.dateClass(n,"multi-year"):void 0;return new tt(t,o,o,this._shouldEnableYear(t),r)}_shouldEnableYear(t){if(null==t||this.maxDate&&t>this._dateAdapter.getYear(this.maxDate)||this.minDate&&t<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let o=this._dateAdapter.createDate(t,0,1);this._dateAdapter.getYear(o)==t;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(t){if(this._selectedYear=null,t instanceof W){const n=t.start||t.end;n&&(this._selectedYear=this._dateAdapter.getYear(n))}else t&&(this._selectedYear=this._dateAdapter.getYear(t))}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(e.sBO),e.Y36(H._A,8),e.Y36(Qe.Is,8))},a.\u0275cmp=e.Xpm({type:a,selectors:[["mat-multi-year-view"]],viewQuery:function(t,n){if(1&t&&e.Gf(Ce,5),2&t){let o;e.iGM(o=e.CRH())&&(n._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(t,n){1&t&&(e.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),e._UZ(3,"th",2),e.qZA()(),e.TgZ(4,"tbody",3),e.NdJ("selectedValueChange",function(r){return n._yearSelected(r)})("activeDateChange",function(r){return n._updateActiveDate(r)})("keyup",function(r){return n._handleCalendarBodyKeyup(r)})("keydown",function(r){return n._handleCalendarBodyKeydown(r)}),e.qZA()()),2&t&&(e.xp6(4),e.Q6J("rows",n._years)("todayValue",n._todayYear)("startValue",n._selectedYear)("endValue",n._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",n._getActiveCell()))},dependencies:[Ce],encapsulation:2,changeDetection:0}),a})();function Mt(a,i,t,n,o){const r=a.getYear(i),_=a.getYear(t),M=At(a,n,o);return Math.floor((r-M)/24)===Math.floor((_-M)/24)}function Re(a,i,t,n){return function na(a,i){return(a%i+i)%i}(a.getYear(i)-At(a,t,n),24)}function At(a,i,t){let n=0;return t?n=a.getYear(t)-24+1:i&&(n=a.getYear(i)),n}let kt=(()=>{class a{constructor(t,n,o,r){this._changeDetectorRef=t,this._dateFormats=n,this._dateAdapter=o,this._dir=r,this._rerenderSubscription=z.w0.EMPTY,this.selectedChange=new e.vpe,this.monthSelected=new e.vpe,this.activeDateChange=new e.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(t){let n=this._activeDate;const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(o,this.minDate,this.maxDate),this._dateAdapter.getYear(n)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof W?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedMonth(t)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,Te.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(t){const n=t.value,o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),n,1);this.monthSelected.emit(o);const r=this._getDateFromMonth(n);this.selectedChange.emit(r)}_updateActiveDate(t){const o=this._activeDate;this.activeDate=this._getDateFromMonth(t.value),this._dateAdapter.compareDate(o,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(t){const n=this._activeDate,o=this._isRtl();switch(t.keyCode){case A.oh:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,o?1:-1);break;case A.SV:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,o?-1:1);break;case A.LH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case A.JH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case A.Sd:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case A.uR:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case A.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-10:-1);break;case A.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10:1);break;case A.K5:case A.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),t.preventDefault()}_handleCalendarBodyKeyup(t){(t.keyCode===A.L_||t.keyCode===A.K5)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let t=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(n=>n.map(o=>this._createCellForMonth(o,t[o]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(t){return t&&this._dateAdapter.getYear(t)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(t):null}_getDateFromMonth(t){const n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),o=this._dateAdapter.getNumDaysInMonth(n);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,Math.min(this._dateAdapter.getDate(this.activeDate),o))}_createCellForMonth(t,n){const o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),r=this._dateAdapter.format(o,this._dateFormats.display.monthYearA11yLabel),_=this.dateClass?this.dateClass(o,"year"):void 0;return new tt(t,n.toLocaleUpperCase(),r,this._shouldEnableMonth(t),_)}_shouldEnableMonth(t){const n=this._dateAdapter.getYear(this.activeDate);if(null==t||this._isYearAndMonthAfterMaxDate(n,t)||this._isYearAndMonthBeforeMinDate(n,t))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(n,t,1);this._dateAdapter.getMonth(r)==t;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isYearAndMonthAfterMaxDate(t,n){if(this.maxDate){const o=this._dateAdapter.getYear(this.maxDate),r=this._dateAdapter.getMonth(this.maxDate);return t>o||t===o&&n>r}return!1}_isYearAndMonthBeforeMinDate(t,n){if(this.minDate){const o=this._dateAdapter.getYear(this.minDate),r=this._dateAdapter.getMonth(this.minDate);return t<o||t===o&&n<r}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(t){this._selectedMonth=t instanceof W?this._getMonthInCurrentYear(t.start)||this._getMonthInCurrentYear(t.end):this._getMonthInCurrentYear(t)}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(e.sBO),e.Y36(H.sG,8),e.Y36(H._A,8),e.Y36(Qe.Is,8))},a.\u0275cmp=e.Xpm({type:a,selectors:[["mat-year-view"]],viewQuery:function(t,n){if(1&t&&e.Gf(Ce,5),2&t){let o;e.iGM(o=e.CRH())&&(n._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(t,n){1&t&&(e.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),e._UZ(3,"th",2),e.qZA()(),e.TgZ(4,"tbody",3),e.NdJ("selectedValueChange",function(r){return n._monthSelected(r)})("activeDateChange",function(r){return n._updateActiveDate(r)})("keyup",function(r){return n._handleCalendarBodyKeyup(r)})("keydown",function(r){return n._handleCalendarBodyKeydown(r)}),e.qZA()()),2&t&&(e.xp6(4),e.Q6J("label",n._yearLabel)("rows",n._months)("todayValue",n._todayMonth)("startValue",n._selectedMonth)("endValue",n._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",n._dateAdapter.getMonth(n.activeDate)))},dependencies:[Ce],encapsulation:2,changeDetection:0}),a})(),aa=0,ia=(()=>{class a{constructor(t,n,o,r,_){this._intl=t,this.calendar=n,this._dateAdapter=o,this._dateFormats=r,this._buttonDescriptionId="mat-calendar-button-"+aa++,this.calendar.stateChanges.subscribe(()=>_.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const n=this._dateAdapter.getYear(this.calendar.activeDate)-Re(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),o=n+24-1,r=this._dateAdapter.getYearName(this._dateAdapter.createDate(n,0,1)),_=this._dateAdapter.getYearName(this._dateAdapter.createDate(o,0,1));return this._intl.formatYearRange(r,_)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(t,n){return"month"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(n)&&this._dateAdapter.getMonth(t)==this._dateAdapter.getMonth(n):"year"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(n):Mt(this._dateAdapter,t,n,this.calendar.minDate,this.calendar.maxDate)}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(Oe),e.Y36((0,e.Gpc)(()=>st)),e.Y36(H._A,8),e.Y36(H.sG,8),e.Y36(e.sBO))},a.\u0275cmp=e.Xpm({type:a,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:Zn,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(t,n){1&t&&(e.F$t(),e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return n.currentPeriodClicked()}),e.TgZ(3,"span"),e._uU(4),e.qZA(),e.O4$(),e.TgZ(5,"svg",3),e._UZ(6,"polygon",4),e.qZA()(),e.kcU(),e._UZ(7,"div",5),e.Hsn(8),e.TgZ(9,"button",6),e.NdJ("click",function(){return n.previousClicked()}),e.qZA(),e.TgZ(10,"button",7),e.NdJ("click",function(){return n.nextClicked()}),e.qZA()()()),2&t&&(e.xp6(2),e.uIk("aria-label",n.periodButtonLabel)("aria-describedby",n._buttonDescriptionId),e.xp6(1),e.uIk("id",n._buttonDescriptionId),e.xp6(1),e.Oqu(n.periodButtonText),e.xp6(1),e.ekj("mat-calendar-invert","month"!==n.calendar.currentView),e.xp6(4),e.Q6J("disabled",!n.previousEnabled()),e.uIk("aria-label",n.prevButtonLabel),e.xp6(1),e.Q6J("disabled",!n.nextEnabled()),e.uIk("aria-label",n.nextButtonLabel))},dependencies:[pe.lW],encapsulation:2,changeDetection:0}),a})(),st=(()=>{class a{constructor(t,n,o,r){this._dateAdapter=n,this._dateFormats=o,this._changeDetectorRef=r,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new e.vpe,this.yearSelected=new e.vpe,this.monthSelected=new e.vpe,this.viewChanged=new e.vpe(!0),this._userSelection=new e.vpe,this.stateChanges=new q.x,this._intlChanges=t.changes.subscribe(()=>{r.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get selected(){return this._selected}set selected(t){this._selected=t instanceof W?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get activeDate(){return this._clampedActiveDate}set activeDate(t){this._clampedActiveDate=this._dateAdapter.clampDate(t,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(t){const n=this._currentView!==t?t:null;this._currentView=t,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),n&&this.viewChanged.emit(n)}ngAfterContentInit(){this._calendarHeaderPortal=new re.C5(this.headerComponent||ia),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(t){const n=t.minDate&&!this._dateAdapter.sameDate(t.minDate.previousValue,t.minDate.currentValue)?t.minDate:void 0,o=t.maxDate&&!this._dateAdapter.sameDate(t.maxDate.previousValue,t.maxDate.currentValue)?t.maxDate:void 0,r=n||o||t.dateFilter;if(r&&!r.firstChange){const _=this._getCurrentViewComponent();_&&(this._changeDetectorRef.detectChanges(),_._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(t){const n=t.value;(this.selected instanceof W||n&&!this._dateAdapter.sameDate(n,this.selected))&&this.selectedChange.emit(n),this._userSelection.emit(t)}_yearSelectedInMultiYearView(t){this.yearSelected.emit(t)}_monthSelectedInYearView(t){this.monthSelected.emit(t)}_goToDateInView(t,n){this.activeDate=t,this.currentView=n}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(Oe),e.Y36(H._A,8),e.Y36(H.sG,8),e.Y36(e.sBO))},a.\u0275cmp=e.Xpm({type:a,selectors:[["mat-calendar"]],viewQuery:function(t,n){if(1&t&&(e.Gf(Dt,5),e.Gf(kt,5),e.Gf(wt,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.monthView=o.first),e.iGM(o=e.CRH())&&(n.yearView=o.first),e.iGM(o=e.CRH())&&(n.multiYearView=o.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[e._Bn([bt]),e.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(t,n){1&t&&(e.YNc(0,Ln,0,0,"ng-template",0),e.TgZ(1,"div",1),e.YNc(2,Un,1,8,"mat-month-view",2),e.YNc(3,Hn,1,6,"mat-year-view",3),e.YNc(4,Qn,1,6,"mat-multi-year-view",4),e.qZA()),2&t&&(e.Q6J("cdkPortalOutlet",n._calendarHeaderPortal),e.xp6(1),e.Q6J("ngSwitch",n.currentView),e.xp6(1),e.Q6J("ngSwitchCase","month"),e.xp6(1),e.Q6J("ngSwitchCase","year"),e.xp6(1),e.Q6J("ngSwitchCase","multi-year"))},dependencies:[s.RF,s.n9,ke.kH,re.Pl,Dt,kt,wt],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),a})();const Tt={transformPanel:(0,Z.X$)("transformPanel",[(0,Z.eR)("void => enter-dropdown",(0,Z.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,Z.F4)([(0,Z.oB)({opacity:0,transform:"scale(1, 0.8)"}),(0,Z.oB)({opacity:1,transform:"scale(1, 1)"})]))),(0,Z.eR)("void => enter-dialog",(0,Z.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,Z.F4)([(0,Z.oB)({opacity:0,transform:"scale(0.7)"}),(0,Z.oB)({transform:"none",opacity:1})]))),(0,Z.eR)("* => void",(0,Z.jt)("100ms linear",(0,Z.oB)({opacity:0})))]),fadeInCalendar:(0,Z.X$)("fadeInCalendar",[(0,Z.SB)("void",(0,Z.oB)({opacity:0})),(0,Z.SB)("enter",(0,Z.oB)({opacity:1})),(0,Z.eR)("void => *",(0,Z.jt)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let oa=0;const It=new e.OlP("mat-datepicker-scroll-strategy"),sa={provide:It,deps:[Se.aV],useFactory:function ra(a){return()=>a.scrollStrategies.reposition()}},la=(0,H.pj)(class{constructor(a){this._elementRef=a}});let da=(()=>{class a extends la{constructor(t,n,o,r,_,M){super(t),this._changeDetectorRef=n,this._globalModel=o,this._dateAdapter=r,this._rangeSelectionStrategy=_,this._subscriptions=new z.w0,this._animationDone=new q.x,this._actionsPortal=null,this._closeButtonText=M.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(t){const n=this._model.selection,o=t.value,r=n instanceof W;if(r&&this._rangeSelectionStrategy){const _=this._rangeSelectionStrategy.selectionFinished(o,n,t.event);this._model.updateSelection(_,this)}else o&&(r||!this._dateAdapter.sameDate(o,n))&&this._model.add(o);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(t,n){this._model=t?this._globalModel.clone():this._globalModel,this._actionsPortal=t,n&&this._changeDetectorRef.detectChanges()}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(se),e.Y36(H._A),e.Y36(Je,8),e.Y36(Oe))},a.\u0275cmp=e.Xpm({type:a,selectors:[["mat-datepicker-content"]],viewQuery:function(t,n){if(1&t&&e.Gf(st,5),2&t){let o;e.iGM(o=e.CRH())&&(n._calendar=o.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(t,n){1&t&&e.WFA("@transformPanel.done",function(){return n._animationDone.next()}),2&t&&(e.d8E("@transformPanel",n._animationState),e.ekj("mat-datepicker-content-touch",n.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[e.qOj],decls:5,vars:24,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"mat-calendar",1),e.NdJ("yearSelected",function(r){return n.datepicker._selectYear(r)})("monthSelected",function(r){return n.datepicker._selectMonth(r)})("viewChanged",function(r){return n.datepicker._viewChanged(r)})("_userSelection",function(r){return n._handleUserSelection(r)}),e.qZA(),e.YNc(2,Jn,0,0,"ng-template",2),e.TgZ(3,"button",3),e.NdJ("focus",function(){return n._closeButtonFocused=!0})("blur",function(){return n._closeButtonFocused=!1})("click",function(){return n.datepicker.close()}),e._uU(4),e.qZA()()),2&t){let o;e.ekj("mat-datepicker-content-container-with-custom-header",n.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",n._actionsPortal),e.uIk("aria-modal",!0)("aria-labelledby",null!==(o=n._dialogLabelId)&&void 0!==o?o:void 0),e.xp6(1),e.Q6J("id",n.datepicker.id)("ngClass",n.datepicker.panelClass)("startAt",n.datepicker.startAt)("startView",n.datepicker.startView)("minDate",n.datepicker._getMinDate())("maxDate",n.datepicker._getMaxDate())("dateFilter",n.datepicker._getDateFilter())("headerComponent",n.datepicker.calendarHeaderComponent)("selected",n._getSelected())("dateClass",n.datepicker.dateClass)("comparisonStart",n.comparisonStart)("comparisonEnd",n.comparisonEnd)("@fadeInCalendar","enter"),e.xp6(1),e.Q6J("cdkPortalOutlet",n._actionsPortal),e.xp6(1),e.ekj("cdk-visually-hidden",!n._closeButtonFocused),e.Q6J("color",n.color||"primary"),e.xp6(1),e.Oqu(n._closeButtonText)}},dependencies:[s.mk,pe.lW,ke.mK,re.Pl,st],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[Tt.transformPanel,Tt.fadeInCalendar]},changeDetection:0}),a})(),Et=(()=>{class a{constructor(t,n,o,r,_,M,L){this._overlay=t,this._ngZone=n,this._viewContainerRef=o,this._dateAdapter=_,this._dir=M,this._model=L,this._inputStateChanges=z.w0.EMPTY,this._document=(0,e.f3M)(s.K0),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new e.vpe,this.monthSelected=new e.vpe,this.viewChanged=new e.vpe(!0),this.openedStream=new e.vpe,this.closedStream=new e.vpe,this._opened=!1,this.id="mat-datepicker-"+oa++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new q.x,this._scrollStrategy=r}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(t){this._color=t}get touchUi(){return this._touchUi}set touchUi(t){this._touchUi=(0,X.Ig)(t)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(t){const n=(0,X.Ig)(t);n!==this._disabled&&(this._disabled=n,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(t){this._restoreFocus=(0,X.Ig)(t)}get panelClass(){return this._panelClass}set panelClass(t){this._panelClass=(0,X.du)(t)}get opened(){return this._opened}set opened(t){(0,X.Ig)(t)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(t){const n=t.xPosition||t.yPosition;if(n&&!n.firstChange&&this._overlayRef){const o=this._overlayRef.getConfig().positionStrategy;o instanceof Se._G&&(this._setConnectedPositions(o),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(t){this._model.add(t)}_selectYear(t){this.yearSelected.emit(t)}_selectMonth(t){this.monthSelected.emit(t)}_viewChanged(t){this.viewChanged.emit(t)}registerInput(t){return this._inputStateChanges.unsubscribe(),this.datepickerInput=t,this._inputStateChanges=t.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(t){this._actionsPortal=t,this._componentRef?.instance._assignActions(t,!0)}removeActions(t){t===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=(0,On.ht)(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;const t=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,n=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:o,location:r}=this._componentRef;o._startExitAnimation(),o._animationDone.pipe((0,S.q)(1)).subscribe(()=>{const _=this._document.activeElement;t&&(!_||_===this._document.activeElement||r.nativeElement.contains(_))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}t?setTimeout(n):n()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(t){t.datepicker=this,t.color=this.color,t._dialogLabelId=this.datepickerInput.getOverlayLabelId(),t._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const t=this.touchUi,n=new re.C5(da,this._viewContainerRef),o=this._overlayRef=this._overlay.create(new Se.X_({positionStrategy:t?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[t?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:t?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(t?"dialog":"popup")}));this._getCloseStream(o).subscribe(r=>{r&&r.preventDefault(),this.close()}),o.keydownEvents().subscribe(r=>{const _=r.keyCode;(_===A.LH||_===A.JH||_===A.oh||_===A.SV||_===A.Ku||_===A.VM)&&r.preventDefault()}),this._componentRef=o.attach(n),this._forwardContentValues(this._componentRef.instance),t||this._ngZone.onStable.pipe((0,S.q)(1)).subscribe(()=>o.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(t)}_setConnectedPositions(t){const n="end"===this.xPosition?"end":"start",o="start"===n?"end":"start",r="above"===this.yPosition?"bottom":"top",_="top"===r?"bottom":"top";return t.withPositions([{originX:n,originY:_,overlayX:n,overlayY:r},{originX:n,originY:r,overlayX:n,overlayY:_},{originX:o,originY:_,overlayX:o,overlayY:r},{originX:o,originY:r,overlayX:o,overlayY:_}])}_getCloseStream(t){return(0,He.T)(t.backdropClick(),t.detachments(),t.keydownEvents().pipe((0,x.h)(n=>n.keyCode===A.hY&&!(0,A.Vb)(n)||this.datepickerInput&&(0,A.Vb)(n,"altKey")&&n.keyCode===A.LH)))}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(Se.aV),e.Y36(e.R0b),e.Y36(e.s_b),e.Y36(It),e.Y36(H._A,8),e.Y36(Qe.Is,8),e.Y36(se))},a.\u0275dir=e.lG2({type:a,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[e.TTD]}),a})(),ca=(()=>{class a extends Et{}return a.\u0275fac=function(){let i;return function(n){return(i||(i=e.n5z(a)))(n||a)}}(),a.\u0275cmp=e.Xpm({type:a,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[e._Bn([bt,{provide:Et,useExisting:a}]),e.qOj],decls:0,vars:0,template:function(t,n){},encapsulation:2,changeDetection:0}),a})();class qe{constructor(i,t){this.target=i,this.targetElement=t,this.value=this.target.value}}let pa=(()=>{class a{constructor(t,n,o){this._elementRef=t,this._dateAdapter=n,this._dateFormats=o,this.dateChange=new e.vpe,this.dateInput=new e.vpe,this.stateChanges=new q.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=z.w0.EMPTY,this._localeSubscription=z.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=r=>{const _=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(r.value));return!_||this._matchesFilter(_)?null:{matDatepickerFilter:!0}},this._minValidator=r=>{const _=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(r.value)),M=this._getMinDate();return!M||!_||this._dateAdapter.compareDate(M,_)<=0?null:{matDatepickerMin:{min:M,actual:_}}},this._maxValidator=r=>{const _=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(r.value)),M=this._getMaxDate();return!M||!_||this._dateAdapter.compareDate(M,_)>=0?null:{matDatepickerMax:{max:M,actual:_}}},this._lastValueValid=!1,this._localeSubscription=n.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(t){this._assignValueProgrammatically(t)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(t){const n=(0,X.Ig)(t),o=this._elementRef.nativeElement;this._disabled!==n&&(this._disabled=n,this.stateChanges.next(void 0)),n&&this._isInitialized&&o.blur&&o.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(t){this._model=t,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(n=>{if(this._shouldHandleChangeEvent(n)){const o=this._getValueFromModel(n.selection);this._lastValueValid=this._isValidValue(o),this._cvaOnChange(o),this._onTouched(),this._formatValue(o),this.dateInput.emit(new qe(this,this._elementRef.nativeElement)),this.dateChange.emit(new qe(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(t){(function ua(a,i){const t=Object.keys(a);for(let n of t){const{previousValue:o,currentValue:r}=a[n];if(!i.isDateInstance(o)||!i.isDateInstance(r))return!0;if(!i.sameDate(o,r))return!0}return!1})(t,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(t){this._validatorOnChange=t}validate(t){return this._validator?this._validator(t):null}writeValue(t){this._assignValueProgrammatically(t)}registerOnChange(t){this._cvaOnChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_onKeydown(t){t.altKey&&t.keyCode===A.JH&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),t.preventDefault())}_onInput(t){const n=this._lastValueValid;let o=this._dateAdapter.parse(t,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(o),o=this._dateAdapter.getValidDateOrNull(o);const r=!this._dateAdapter.sameDate(o,this.value);!o||r?this._cvaOnChange(o):(t&&!this.value&&this._cvaOnChange(o),n!==this._lastValueValid&&this._validatorOnChange()),r&&(this._assignValue(o),this.dateInput.emit(new qe(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new qe(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(t){this._elementRef.nativeElement.value=null!=t?this._dateAdapter.format(t,this._dateFormats.display.dateInput):""}_assignValue(t){this._model?(this._assignValueToModel(t),this._pendingValue=null):this._pendingValue=t}_isValidValue(t){return!t||this._dateAdapter.isValid(t)}_parentDisabled(){return!1}_assignValueProgrammatically(t){t=this._dateAdapter.deserialize(t),this._lastValueValid=this._isValidValue(t),t=this._dateAdapter.getValidDateOrNull(t),this._assignValue(t),this._formatValue(t)}_matchesFilter(t){const n=this._getDateFilter();return!n||n(t)}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(e.SBq),e.Y36(H._A,8),e.Y36(H.sG,8))},a.\u0275dir=e.lG2({type:a,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[e.TTD]}),a})();const ha={provide:K.JU,useExisting:(0,e.Gpc)(()=>lt),multi:!0},ga={provide:K.Cf,useExisting:(0,e.Gpc)(()=>lt),multi:!0};let lt=(()=>{class a extends pa{constructor(t,n,o,r){super(t,n,o),this._formField=r,this._closedSubscription=z.w0.EMPTY,this._validator=K.kI.compose(super._getValidators())}set matDatepicker(t){t&&(this._datepicker=t,this._closedSubscription=t.closedStream.subscribe(()=>this._onTouched()),this._registerModel(t.registerInput(this)))}get min(){return this._min}set min(t){const n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));this._dateAdapter.sameDate(n,this._min)||(this._min=n,this._validatorOnChange())}get max(){return this._max}set max(t){const n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));this._dateAdapter.sameDate(n,this._max)||(this._max=n,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(t){const n=this._matchesFilter(this.value);this._dateFilter=t,this._matchesFilter(this.value)!==n&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(t){return t}_assignValueToModel(t){this._model&&this._model.updateSelection(t,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(t){return t.source!==this}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(e.SBq),e.Y36(H._A,8),e.Y36(H.sG,8),e.Y36(ve.G_,8))},a.\u0275dir=e.lG2({type:a,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(t,n){1&t&&e.NdJ("input",function(r){return n._onInput(r.target.value)})("change",function(){return n._onChange()})("blur",function(){return n._onBlur()})("keydown",function(r){return n._onKeydown(r)}),2&t&&(e.Ikx("disabled",n.disabled),e.uIk("aria-haspopup",n._datepicker?"dialog":null)("aria-owns",(null==n._datepicker?null:n._datepicker.opened)&&n._datepicker.id||null)("min",n.min?n._dateAdapter.toIso8601(n.min):null)("max",n.max?n._dateAdapter.toIso8601(n.max):null)("data-mat-calendar",n._datepicker?n._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[e._Bn([ha,ga,{provide:et.Jk,useExisting:a}]),e.qOj]}),a})(),_a=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275dir=e.lG2({type:a,selectors:[["","matDatepickerToggleIcon",""]]}),a})(),ma=(()=>{class a{constructor(t,n,o){this._intl=t,this._changeDetectorRef=n,this._stateChanges=z.w0.EMPTY;const r=Number(o);this.tabIndex=r||0===r?r:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(t){this._disabled=(0,X.Ig)(t)}ngOnChanges(t){t.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(t){this.datepicker&&!this.disabled&&(this.datepicker.open(),t.stopPropagation())}_watchStateChanges(){const t=this.datepicker?this.datepicker.stateChanges:(0,We.of)(),n=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,We.of)(),o=this.datepicker?(0,He.T)(this.datepicker.openedStream,this.datepicker.closedStream):(0,We.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,He.T)(this._intl.changes,t,n,o).subscribe(()=>this._changeDetectorRef.markForCheck())}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(Oe),e.Y36(e.sBO),e.$8M("tabindex"))},a.\u0275cmp=e.Xpm({type:a,selectors:[["mat-datepicker-toggle"]],contentQueries:function(t,n,o){if(1&t&&e.Suo(o,_a,5),2&t){let r;e.iGM(r=e.CRH())&&(n._customIcon=r.first)}},viewQuery:function(t,n){if(1&t&&e.Gf(qn,5),2&t){let o;e.iGM(o=e.CRH())&&(n._button=o.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(t,n){1&t&&e.NdJ("click",function(r){return n._open(r)}),2&t&&(e.uIk("tabindex",null)("data-mat-calendar",n.datepicker?n.datepicker.id:null),e.ekj("mat-datepicker-toggle-active",n.datepicker&&n.datepicker.opened)("mat-accent",n.datepicker&&"accent"===n.datepicker.color)("mat-warn",n.datepicker&&"warn"===n.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[e.TTD],ngContentSelectors:jn,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(t,n){1&t&&(e.F$t(Gn),e.TgZ(0,"button",0,1),e.YNc(2,zn,2,0,"svg",2),e.Hsn(3),e.qZA()),2&t&&(e.Q6J("disabled",n.disabled)("disableRipple",n.disableRipple),e.uIk("aria-haspopup",n.datepicker?"dialog":null)("aria-label",n.ariaLabel||n._intl.openCalendarLabel)("tabindex",n.disabled?-1:n.tabIndex),e.xp6(2),e.Q6J("ngIf",!n._customIcon))},dependencies:[s.O5,pe.lW],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0}),a})(),fa=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[Oe,sa],imports:[s.ez,pe.ot,Se.U8,ke.rt,re.eL,H.BQ,Sn.ZD]}),a})();function va(a,i){1&a&&(e.TgZ(0,"mat-error"),e._uU(1,"Date is required"),e.qZA())}function Ca(a,i){1&a&&(e.TgZ(0,"mat-error"),e._uU(1,"\u039b\u03ac\u03b8\u03bf\u03c2 \u03b7\u03bc\u03b5\u03c1\u03bf\u03bc\u03b7\u03bd\u03af\u03b1"),e.qZA())}function xa(a,i){1&a&&(e.TgZ(0,"mat-error"),e._uU(1,"\u039b\u03ac\u03b8\u03bf\u03c2 \u03b7\u03bc\u03b5\u03c1\u03bf\u03bc\u03b7\u03bd\u03af\u03b1"),e.qZA())}function ya(a,i){1&a&&(e.TgZ(0,"mat-error"),e._uU(1,"Time is required"),e.qZA())}function ba(a,i){1&a&&(e.TgZ(0,"div",15),e._uU(1," Some fields are invalid "),e.qZA())}const Da=function(){return["route"]};function wa(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"form",1)(1,"mat-form-field",2)(2,"mat-label"),e._uU(3,"Date"),e.qZA(),e.TgZ(4,"input",3),e.NdJ("dateInput",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.updateDate(o))})("dateChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.updateDate(o))}),e.qZA(),e._UZ(5,"mat-datepicker-toggle",4)(6,"mat-datepicker",null,5),e.TgZ(8,"mat-hint"),e._uU(9,"MM/DD/YYYY"),e.qZA(),e.YNc(10,va,2,0,"mat-error",6),e.YNc(11,Ca,2,0,"mat-error",6),e.YNc(12,xa,2,0,"mat-error",6),e.qZA(),e.TgZ(13,"mat-form-field",7)(14,"mat-label"),e._uU(15,"Time"),e.qZA(),e.TgZ(16,"input",8),e.NdJ("change",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.updateTime(o))}),e.qZA(),e.TgZ(17,"mat-hint"),e._uU(18,"HH/MM/AM-PM"),e.qZA(),e.YNc(19,ya,2,0,"mat-error",6),e.qZA(),e.TgZ(20,"mat-form-field",9)(21,"mat-label"),e._uU(22,"Direction"),e.qZA(),e.TgZ(23,"mat-select",10),e.NdJ("valueChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.updateSelect(o))}),e.TgZ(24,"mat-option",11),e._uU(25,"Depart"),e.qZA(),e.TgZ(26,"mat-option",12),e._uU(27,"Arrive"),e.qZA()()(),e.YNc(28,ba,2,0,"div",13),e.TgZ(29,"app-option",14),e.NdJ("onSelect",function(){const r=e.CHM(t).ngIf,_=e.oxw();return e.KtG(_.plan(r.start,r.destination))}),e.qZA()()}if(2&a){const t=i.ngIf,n=e.MAs(7),o=e.oxw();e.Q6J("formGroup",o.tripOptions),e.xp6(4),e.Q6J("matDatepicker",n)("min",o.minDate)("max",o.maxDate),e.xp6(1),e.Q6J("for",n),e.xp6(5),e.Q6J("ngIf",o.tripOptions.controls.date.hasError("required")),e.xp6(1),e.Q6J("ngIf",o.tripOptions.controls.date.hasError("matDatepickerMin")),e.xp6(1),e.Q6J("ngIf",o.tripOptions.controls.date.hasError("matDatepickerMax")),e.xp6(7),e.Q6J("ngIf",o.tripOptions.controls.time.hasError("required")),e.xp6(4),e.Q6J("value",t.arriveBy),e.xp6(5),e.Q6J("ngIf",!o.tripOptions.valid||0==t.start.length||0==t.destination.length),e.xp6(1),e.Q6J("icon","route")("text","Search routes")("data",e.DdM(14,Da))}}class Fe{constructor(i,t){this.local=i,this.router=t,this.minDate=new Date,this.maxDate=new Date(2023,3,20)}ngOnInit(){this.local.fetchPlan(),this.state$=this.local.state$.pipe((0,S.q)(1),(0,O.b)(i=>{this.tripOptions=new K.cw({date:new K.NI(i.date,[K.kI.required]),time:new K.NI(i.time,[K.kI.required])})}))}updateDate(i){this.local.updateDate(i.value)}updateTime(i){this.local.updateTime(i.target.value)}updateSelect(i){this.local.updateArriveBy(i)}plan(i,t){this.tripOptions.valid&&i.length>0&&t.length>0&&(this.local.initFetch(),this.router.navigate([{outlets:{sidebar:["routes","trips"]}}],{queryParams:{module:"trips"}}))}}Fe.\u0275fac=function(i){return new(i||Fe)(e.Y36(v),e.Y36(c.F0))},Fe.\u0275cmp=e.Xpm({type:Fe,selectors:[["trip-planner-options"]],decls:4,vars:3,consts:[["novalidate","","class","option-list",3,"formGroup",4,"ngIf"],["novalidate","",1,"option-list",3,"formGroup"],["appearance","fill",1,"directions"],["formControlName","date","id","date","placeholder","pick a date","matInput","","autocomplete","off",3,"matDatepicker","min","max","dateInput","dateChange"],["matSuffix","",3,"for"],["picker",""],[4,"ngIf"],["appearance","fill",1,"directions","pl-sm-8","no-errors-spacer"],["formControlName","time","id","time","matInput","","type","time",1,"input",3,"change"],["appearance","fill"],[3,"value","valueChange"],["value","depart"],["value","arrive"],["class","error-msg",4,"ngIf"],[3,"icon","text","data","onSelect"],[1,"error-msg"]],template:function(i,t){1&i&&(e.TgZ(0,"h1"),e._uU(1,"Preferences"),e.qZA(),e.YNc(2,wa,30,15,"form",0),e.ALo(3,"async")),2&i&&(e.xp6(2),e.Q6J("ngIf",e.lcZ(3,1,t.state$)))},dependencies:[s.O5,K._Y,K.Fj,K.JJ,K.JL,p.x,ve.TO,ve.KE,ve.bx,ve.hX,ve.R9,xt.gD,H.ey,ca,lt,ma,et.Nt,K.sg,K.u,s.Ov],styles:["[_nghost-%COMP%]{width:100%;display:block;padding:15px 13px 0 15px}.option-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;overflow:auto;max-height:calc(100vh - 265px);gap:10px;padding-right:5px}h1[_ngcontent-%COMP%]{margin-bottom:15px;color:#2b3b4c;font-family:Lexend Deca,sans-serif;font-weight:600;font-size:21px}.mat-input-element[_ngcontent-%COMP%]{caret-color:#545f6d}.mat-form-field-appearance-legacy[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%], .mat-hint[_ngcontent-%COMP%]   .mat-datepicker-toggle[_ngcontent-%COMP%]{color:#545f6d!important}  .mat-focused .mat-form-field-label{color:#545f6d!important;font-size:15px}  .mat-form-field-underline{background-color:linear-gradient(90deg,rgba(195,197,213,1) 0%,rgba(239,243,248,1) 100%)!important}  .mat-form-field-ripple{background-color:#3e3aef!important}  .mat-form-field-label{color:#545f6d!important}.mat-label[_ngcontent-%COMP%]{font-size:15px}mat-hint[_ngcontent-%COMP%]{color:#545f6d!important}mat-datepicker-toggle[_ngcontent-%COMP%]{color:#545f6d!important}[_ngcontent-%COMP%]::placeholder{color:#727f90!important}.mat-select-value-text[_ngcontent-%COMP%]{color:#545f6d!important}.panel[_ngcontent-%COMP%]   .mat-mdc-select-panel[_ngcontent-%COMP%]{background:rgba(255,0,0,.5)}  .mat-select-value{color:#545f6d!important}  .mat-select-arrow{color:#545f6d!important}.error-msg[_ngcontent-%COMP%]{color:red;align-self:center}.options[_ngcontent-%COMP%]{width:100%;border:1px solid red;padding:5px 20px;display:flex;flex-direction:row;justify-content:space-between}.field[_ngcontent-%COMP%]{outline:none;border:1px solid grey;border-radius:5px;background:transparent}"]});var ne=d(8968);function Ma(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"div",7)(1,"div",8)(2,"span",9),e._UZ(3,"i",10),e.qZA(),e.TgZ(4,"span",11),e._uU(5),e.qZA()(),e.TgZ(6,"div",12)(7,"i",13),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onQR())}),e.qZA(),e.TgZ(8,"i",14),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onStop())}),e.qZA(),e.TgZ(9,"i",15),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onMap())}),e.qZA(),e.TgZ(10,"section",16),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onCancel())}),e.TgZ(11,"div",17)(12,"button",18),e._uU(13,"\u0391\u03ba\u03cd\u03c1\u03c9\u03c3\u03b7"),e.qZA()()()()()}if(2&a){const t=e.oxw(2);e.xp6(5),e.Oqu(t.booking.route)}}function Aa(a,i){if(1&a&&(e.TgZ(0,"div",1)(1,"div",2),e.YNc(2,Ma,14,1,"div",3),e.TgZ(3,"div",4)(4,"span",5),e._uU(5,"From"),e.qZA(),e.TgZ(6,"span",6),e._uU(7),e.qZA()(),e.TgZ(8,"div",4)(9,"span",5),e._uU(10,"To"),e.qZA(),e.TgZ(11,"span",6),e._uU(12),e.qZA()(),e.TgZ(13,"div",4)(14,"span",5),e._uU(15,"Travel"),e.qZA(),e.TgZ(16,"span",6),e._uU(17),e.qZA()()()()),2&a){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.flag),e.xp6(5),e.AsE("",t.booking.start,"(",t.booking.startStop,")"),e.xp6(5),e.AsE("",t.booking.end,"(",t.booking.endStop,")"),e.xp6(5),e.AsE("",t.booking.travel,", ",t.booking.date,"")}}class xe{constructor(){this.index=0,this.flag=!0,this.cancel=new e.vpe,this.map=new e.vpe,this.qr=new e.vpe,this.stop=new e.vpe}ngOnInit(){}onMap(){this.map.emit(this.booking)}onCancel(){this.cancel.emit(this.booking.trip_id)}onStop(){this.stop.next(this.booking)}onQR(){this.qr.next(this.booking)}}xe.\u0275fac=function(i){return new(i||xe)},xe.\u0275cmp=e.Xpm({type:xe,selectors:[["booking-component"]],inputs:{booking:"booking",index:"index",flag:"flag"},outputs:{cancel:"cancel",map:"map",qr:"qr",stop:"stop"},decls:1,vars:1,consts:[["class","entity-wrapper",4,"ngIf"],[1,"entity-wrapper"],[1,"entity-container"],["class","entity-type header",4,"ngIf"],[1,"text-content"],[1,"small-malakas"],[1,"description"],[1,"entity-type","header"],[1,"right"],[1,"malakas"],[1,"fas","fa-bus"],[1,"option-text"],[1,"left"],[1,"fas","fa-qrcode","img",3,"click"],[1,"fas","fa-map-marker","img",3,"click"],[1,"fas","fa-map","img",3,"click"],[1,"book-menu",3,"click"],[1,"example-button-row"],["mat-stroked-button","","color","primary"]],template:function(i,t){1&i&&e.YNc(0,Aa,18,7,"div",0),2&i&&e.Q6J("ngIf",t.booking)},dependencies:[s.O5,pe.lW],styles:["[_nghost-%COMP%]{width:100%;gap:10px;font:400 14px/20px Roboto,Helvetica Neue,sans-serif}.entity-wrapper[_ngcontent-%COMP%]{background:rgb(227,227,236);background:linear-gradient(90deg,rgba(227,227,236,1) 0%,rgba(255,255,255,1) 100%);box-shadow:#63636333 0 2px 8px;cursor:pointer}.text-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:7px}.description[_ngcontent-%COMP%]{font-size:12px;color:#8190a4;font-weight:700}.option-text[_ngcontent-%COMP%]{font-weight:600;color:#002d62;font-size:15px}.entity-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;gap:2px;color:#545f6d;font-size:14px;padding:17px 15px 17px 20px}.entity-type[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:10px;margin-bottom:10px;width:100%}.entity-type[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{padding-top:2px}.center[_ngcontent-%COMP%]{align-self:center!important;justify-self:center!important}.icon[_ngcontent-%COMP%]{font-size:14px}.bold[_ngcontent-%COMP%]{color:#2e3e51;font-size:15px}.text-content-no-incoming[_ngcontent-%COMP%]{display:flex;flex-direction:column}.malakas[_ngcontent-%COMP%]{color:#2e3e51;font-weight:700;font-size:16px}.small-malakas[_ngcontent-%COMP%]{color:#2e3e51;font-weight:700;font-size:14px}.right[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:7px}.header[_ngcontent-%COMP%]{justify-content:space-between!important;align-items:center}  .mat-flat-button.mat-primary, .mat-raised-button.mat-primary[_ngcontent-%COMP%], .mat-fab.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%]{background-color:#002d62}  .mat-raised-button{min-width:unset!important;line-height:unset!important;padding:1px 5px 0!important;font-size:14px!important}  .mat-stroked-button{padding:0 8px!important;line-height:32px!important;border:none!important}  .mat-expansion-panel-header-title, .mat-expansion-panel-header-description[_ngcontent-%COMP%]{margin-right:0!important}.book-menu[_ngcontent-%COMP%]{margin-left:5px}  .mat-button.mat-primary, .mat-icon-button.mat-primary[_ngcontent-%COMP%], .mat-stroked-button.mat-primary[_ngcontent-%COMP%]{color:#2b3b4c!important}  .mat-button, .mat-icon-button[_ngcontent-%COMP%], .mat-stroked-button[_ngcontent-%COMP%]{background:rgb(0 0 0 / 10%)!important}button[_ngcontent-%COMP%]{font-size:14px!important;font-weight:700}.img[_ngcontent-%COMP%]{font-size:20px!important;padding:7px!important;transition-duration:.4s;border-radius:3px;color:#002d62}.img[_ngcontent-%COMP%]:hover{background:#b7cbe4}.left[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:5px;align-items:center}.fa-bus[_ngcontent-%COMP%]{font-size:20px!important;color:#002d62}"]});class Be{transform(i,t){if(!i)return[];const n=t.toUpperCase();return i.filter(o=>o.start.toUpperCase().includes(n)||o.end.includes(t)||o.route.includes(t)).slice(0,20)}}function ka(a,i){1&a&&e._UZ(0,"spinner-component")}function Ta(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"booking-component",9),e.NdJ("cancel",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.onCancel(o))})("map",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.onMap(o))})("qr",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.showQR(o))})("stop",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.showStop(o))}),e.qZA()}if(2&a){const n=i.index;e.Q6J("booking",i.$implicit)("index",n)}}function Ia(a,i){if(1&a&&(e.ynx(0),e.YNc(1,Ta,1,2,"booking-component",8),e.ALo(2,"bookings"),e.BQk()),2&a){const t=e.oxw().ngIf,n=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,t.bookings,n.value))}}function Ea(a,i){if(1&a&&(e.TgZ(0,"div",3),e.YNc(1,ka,1,0,"spinner-component",4),e._UZ(2,"toaster-component",5),e.TgZ(3,"h1"),e._uU(4,"My bookings"),e.qZA(),e.TgZ(5,"div",6),e.YNc(6,Ia,3,4,"ng-container",7),e.qZA()()),2&a){const t=i.ngIf;e.oxw();const n=e.MAs(4);e.xp6(1),e.Q6J("ngIf",t.spinner||-1!=t.state.delete_id),e.xp6(1),e.Q6J("msg$",t.state.toaster),e.xp6(4),e.Q6J("ngIf",t.bookings.length>0)("ngIfElse",n)}}function Pa(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"app-option",10),e.NdJ("onSelect",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.tripPlanner())}),e.qZA()}2&a&&e.Q6J("text","No bookings")("desc","Click to add")}Be.\u0275fac=function(i){return new(i||Be)},Be.\u0275pipe=e.Yjl({name:"bookings",type:Be,pure:!0});class Ve{constructor(i,t,n,o,r){this.local=i,this.directionsStore=t,this.msg=n,this.store=o,this.router=r,this.value=""}ngOnInit(){this.vm$=(0,y.a)([this.store.select(U._B),this.store.select(U.lY),this.local.state$]).pipe((0,I.U)(([i,t,n])=>({bookings:i,spinner:t,state:n}))),this.msg.clearLayers(),this.directionsStore.reset(),this.msg.selectEndpoint(this.directionsStore.state$),this.state$=this.local.state$}onCancel(i){this.local.changeDelete(i)}onMap(i){this.directionsStore.updateStart([i.startStop,i.start,"0","0"]),this.directionsStore.updateEnd([i.endStop,i.end,"0","0"]),this.store.dispatch((0,k.Jx)({data:i})),this.navigate(["routes","trips",0],"trip_details")}filter(i){this.value=i}showQR(i){this.navigate(["routes","booking","qr",i.trip_id],"qr_module")}tripPlanner(){this.navigate(["routes","trip","options"],"trip_options")}showStop(i){this.navigate(["routes","booking",i.trip_id,"stop",i.startStop],"booking_origin")}navigate(i,t){this.router.navigate([{outlets:{sidebar:i}}],{queryParams:{module:t}})}}function Pt(a,i,t,n,o,r,_){try{var M=a[r](_),L=M.value}catch(Q){return void t(Q)}M.done?i(L):Promise.resolve(L).then(n,o)}function dt(a){return function(){var i=this,t=arguments;return new Promise(function(n,o){var r=a.apply(i,t);function _(L){Pt(r,n,o,_,M,"next",L)}function M(L){Pt(r,n,o,_,M,"throw",L)}_(void 0)})}}Ve.\u0275fac=function(i){return new(i||Ve)(e.Y36(ie),e.Y36(v),e.Y36(te._),e.Y36(l.yh),e.Y36(c.F0))},Ve.\u0275cmp=e.Xpm({type:Ve,selectors:[["bookings-component"]],features:[e._Bn([ie])],decls:5,vars:6,consts:[[3,"icon","placeholder","title","onType"],["class","main",4,"ngIf"],["noBookings",""],[1,"main"],[4,"ngIf"],[3,"msg$"],[1,"option-list"],[4,"ngIf","ngIfElse"],[3,"booking","index","cancel","map","qr","stop",4,"ngFor","ngForOf"],[3,"booking","index","cancel","map","qr","stop"],[3,"text","desc","onSelect"]],template:function(i,t){1&i&&(e.TgZ(0,"input-field",0),e.NdJ("onType",function(o){return t.filter(o)}),e.qZA(),e.YNc(1,Ea,7,4,"div",1),e.ALo(2,"async"),e.YNc(3,Pa,1,2,"ng-template",null,2,e.W1O)),2&i&&(e.Q6J("icon","search")("placeholder","search bookings")("title","Bookings"),e.xp6(1),e.Q6J("ngIf",e.lcZ(2,4,t.vm$)))},dependencies:[s.sg,s.O5,p.x,ge.S,de.O,Xe.B,xe,s.Ov,Be],styles:["[_nghost-%COMP%]{width:25vw;min-width:342px;display:flex;flex-direction:column;font-family:Lexend Deca,sans-serif;align-items:center}h1[_ngcontent-%COMP%]{margin-bottom:10px;color:#2b3b4c;margin-top:10px;font-family:Lexend Deca,sans-serif;font-weight:600;font-size:21px}.main[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;width:100%;padding:0 15px;height:calc(100vh - 109px);position:relative}.option-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;width:100%;overflow:auto;max-height:calc(100vh - 180px);padding-right:3px;gap:10px}@media screen and (max-width: 800px){[_nghost-%COMP%]{min-width:330px}}@media screen and (max-width: 700px){[_nghost-%COMP%]{min-width:270px}}@media screen and (max-width: 600px){[_nghost-%COMP%]{min-width:250px}}@media screen and (max-width: 500px){[_nghost-%COMP%]{width:100vw}}"]});var ct=d(5876),Sa=d(1481);const Oa=["qrcElement"];let Ra=(()=>{class a{constructor(t,n){this.renderer=t,this.sanitizer=n,this.allowEmptyString=!1,this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.qrdata="",this.scale=4,this.width=10,this.qrCodeURL=new e.vpe,this.context=null}ngOnChanges(){var t=this;return dt(function*(){yield t.createQRCode()})()}isValidQrCodeText(t){return!1===this.allowEmptyString?!(typeof t>"u"||""===t||"null"===t||null===t):!(typeof t>"u")}toDataURL(t){return new Promise((n,o)=>{ct.hz(this.qrdata,t,(r,_)=>{r?o(r):n(_)})})}toCanvas(t,n){return new Promise((o,r)=>{ct.rT(t,this.qrdata,n,_=>{_?r(_):o("success")})})}toSVG(t){return new Promise((n,o)=>{ct.toString(this.qrdata,t,(r,_)=>{r?o(r):n(_)})})}renderElement(t){for(const n of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,n);this.renderer.appendChild(this.qrcElement.nativeElement,t)}createQRCode(){var t=this;return dt(function*(){t.version&&t.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),t.version=40):t.version&&t.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),t.version=1):void 0!==t.version&&isNaN(t.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),t.version=void 0);try{if(!t.isValidQrCodeText(t.qrdata))throw new Error("[angularx-qrcode] Field `qrdata` is empty, set 'allowEmptyString=\"true\"' to overwrite this behaviour.");t.isValidQrCodeText(t.qrdata)&&""===t.qrdata&&(t.qrdata=" ");const n={color:{dark:t.colorDark,light:t.colorLight},errorCorrectionLevel:t.errorCorrectionLevel,margin:t.margin,scale:t.scale,type:t.elementType,version:t.version,width:t.width},o=t.imageSrc,r=t.imageHeight||40,_=t.imageWidth||40;switch(t.elementType){case"canvas":const M=t.renderer.createElement("canvas");t.context=M.getContext("2d"),t.toCanvas(M,n).then(()=>{if(t.ariaLabel&&t.renderer.setAttribute(M,"aria-label",`${t.ariaLabel}`),t.title&&t.renderer.setAttribute(M,"title",`${t.title}`),o&&t.context){t.centerImage=new Image(_,r),o!==t.centerImage.src&&(t.centerImage.src=o),r!==t.centerImage.height&&(t.centerImage.height=r),_!==t.centerImage.width&&(t.centerImage.width=_);const J=t.centerImage;J&&(J.onload=()=>{t.context?.drawImage(J,M.width/2-_/2,M.height/2-r/2,_,r)})}t.renderElement(M),t.emitQRCodeURL(M)}).catch(J=>{console.error("[angularx-qrcode] canvas error:",J)});break;case"svg":const L=t.renderer.createElement("div");t.toSVG(n).then(J=>{t.renderer.setProperty(L,"innerHTML",J);const le=L.firstChild;t.renderer.setAttribute(le,"height",`${t.width}`),t.renderer.setAttribute(le,"width",`${t.width}`),t.renderElement(le),t.emitQRCodeURL(le)}).catch(J=>{console.error("[angularx-qrcode] svg error:",J)});break;default:const Q=t.renderer.createElement("img");t.toDataURL(n).then(J=>{t.alt&&Q.setAttribute("alt",t.alt),t.ariaLabel&&Q.setAttribute("aria-label",t.ariaLabel),Q.setAttribute("src",J),t.title&&Q.setAttribute("title",t.title),t.renderElement(Q),t.emitQRCodeURL(Q)}).catch(J=>{console.error("[angularx-qrcode] img/url error:",J)})}}catch(n){console.error("[angularx-qrcode] Error generating QR Code:",n.message)}})()}emitQRCodeURL(t){const n=t.constructor.name;if(n===SVGSVGElement.name){const _=new Blob([t.outerHTML],{type:"image/svg+xml"}),M=URL.createObjectURL(_),L=this.sanitizer.bypassSecurityTrustUrl(M);return void this.qrCodeURL.emit(L)}let o="";n===HTMLCanvasElement.name&&(o=t.toDataURL("image/png")),n===HTMLImageElement.name&&(o=t.src),fetch(o).then(r=>r.blob()).then(r=>URL.createObjectURL(r)).then(r=>this.sanitizer.bypassSecurityTrustUrl(r)).then(r=>{this.qrCodeURL.emit(r)}).catch(r=>{console.error("[angularx-qrcode] Error when fetching image/png URL: "+r)})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(e.Qsj),e.Y36(Sa.H7))},a.\u0275cmp=e.Xpm({type:a,selectors:[["qrcode"]],viewQuery:function(t,n){if(1&t&&e.Gf(Oa,7),2&t){let o;e.iGM(o=e.CRH())&&(n.qrcElement=o.first)}},inputs:{allowEmptyString:"allowEmptyString",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",margin:"margin",qrdata:"qrdata",scale:"scale",version:"version",width:"width",alt:"alt",ariaLabel:"ariaLabel",title:"title"},outputs:{qrCodeURL:"qrCodeURL"},features:[e.TTD],decls:2,vars:2,consts:[["qrcElement",""]],template:function(t,n){1&t&&e._UZ(0,"div",null,0),2&t&&e.Tol(n.cssClass)},encapsulation:2,changeDetection:0}),a})(),Fa=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[]}),a})();function Ba(a,i){1&a&&e._UZ(0,"spinner-component")}function Va(a,i){if(1&a&&(e.ynx(0),e._UZ(1,"input-field",2),e.TgZ(2,"div",3),e.YNc(3,Ba,1,0,"spinner-component",0),e.TgZ(4,"div",4),e._UZ(5,"booking-component",5),e.qZA(),e._UZ(6,"qrcode",6),e.qZA(),e.BQk()),2&a){const t=e.oxw().ngIf,n=e.oxw();e.xp6(1),e.Q6J("value","Line "+t.booking.route)("disabled",!0)("icon","qr_code")("title","QR code"),e.xp6(2),e.Q6J("ngIf",t.spinner),e.xp6(2),e.Q6J("flag",!1)("booking",t.booking),e.xp6(1),e.Q6J("qrdata",n.data(t.booking))("width",170)("errorCorrectionLevel","M")}}function Ya(a,i){if(1&a&&(e.ynx(0),e.YNc(1,Va,7,10,"ng-container",0),e.BQk()),2&a){const t=i.ngIf;e.xp6(1),e.Q6J("ngIf",t.booking)}}function Na(a,i){1&a&&e._UZ(0,"app-option",7),2&a&&e.Q6J("text","No booking selected")}class Ye{constructor(i){this.store=i}ngOnInit(){this.vm$=(0,y.a)([this.store.select(U.lY),this.store.select(U.bj)]).pipe((0,I.U)(([i,t])=>({spinner:i,booking:t})))}data(i){return`${i.user_id}_${i.trip_id}_${i.date}`}}Ye.\u0275fac=function(i){return new(i||Ye)(e.Y36(l.yh))},Ye.\u0275cmp=e.Xpm({type:Ye,selectors:[["qr-component"]],decls:4,vars:3,consts:[[4,"ngIf"],["noSelected",""],[3,"value","disabled","icon","title"],[1,"main"],[1,"option-list"],[3,"flag","booking"],[3,"qrdata","width","errorCorrectionLevel"],[3,"text"]],template:function(i,t){1&i&&(e.YNc(0,Ya,2,1,"ng-container",0),e.ALo(1,"async"),e.YNc(2,Na,1,1,"ng-template",null,1,e.W1O)),2&i&&e.Q6J("ngIf",e.lcZ(1,1,t.vm$))},dependencies:[s.O5,p.x,ge.S,de.O,Ra,xe,s.Ov],styles:["[_nghost-%COMP%]{width:25vw;min-width:342px;display:flex;flex-direction:column;font-family:Lexend Deca,sans-serif;align-items:center}h1[_ngcontent-%COMP%]{margin-bottom:10px;color:#2b3b4c;margin-top:10px;font-family:Lexend Deca,sans-serif;font-weight:600;font-size:21px}.main[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;width:100%;padding:25px 15px 0;height:calc(100vh - 140px);position:relative;gap:40px}.option-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;width:100%;overflow:auto;max-height:calc(100vh - 225px);padding-right:3px;gap:10px}qrcode[_ngcontent-%COMP%]{display:flex!important;justify-content:center!important}@media screen and (max-width: 800px){[_nghost-%COMP%]{min-width:330px}}@media screen and (max-width: 700px){[_nghost-%COMP%]{min-width:270px}}@media screen and (max-width: 600px){[_nghost-%COMP%]{min-width:250px}}@media screen and (max-width: 500px){[_nghost-%COMP%]{width:100vw}}"]});var pt=d(3848),Za=d(4217);const La=function(){return["my_location"]};function Ua(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"app-option",4),e.NdJ("onSelect",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.onLocation(o))}),e.qZA()}2&a&&e.Q6J("icon","my_location")("text","My location")("data",e.DdM(3,La))}const Ha=function(){return["0","\u0395\u03c0\u03b9\u03bb\u03bf\u03b3\u03ae","39.667341104708946","20.854922400637918"]};function Qa(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"app-option",4),e.NdJ("onSelect",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.onMap(o))}),e.qZA()}2&a&&e.Q6J("icon","map")("text","Select on map")("data",e.DdM(3,Ha))}const Ja=function(a,i,t,n){return[a,i,t,n]};function qa(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"app-option",7),e.NdJ("onSelect",function(o){e.CHM(t);const r=e.oxw(4);return e.KtG(r.onClick(o))})("save",function(o){e.CHM(t);const r=e.oxw(4);return e.KtG(r.onSave(o))})("remove",function(o){e.CHM(t);const r=e.oxw(4);return e.KtG(r.onRemove(o))}),e.qZA()}if(2&a){const t=i.$implicit;e.Q6J("menu",!0)("icon","location_on")("text",t.desc)("desc",t.code)("data",e.l5B(5,Ja,t.code,t.desc,t.latitude,t.longitude))}}function za(a,i){if(1&a&&(e.ynx(0),e.YNc(1,qa,1,10,"app-option",6),e.ALo(2,"filter"),e.BQk()),2&a){const t=i.ngIf,n=e.oxw(2).ngIf;e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,n,t.text))}}const Ga=function(a){return{text:a}};function ja(a,i){if(1&a&&(e.ynx(0),e.YNc(1,za,3,4,"ng-container",5),e.ALo(2,"async"),e.BQk()),2&a){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",e.VKq(3,Ga,e.lcZ(2,1,t.searchText$)))}}function $a(a,i){if(1&a&&(e.ynx(0),e.YNc(1,ja,3,5,"ng-container",2),e.BQk()),2&a){const t=i.ngIf;e.oxw();const n=e.MAs(6);e.xp6(1),e.Q6J("ngIf",t.length>0)("ngIfElse",n)}}function Ka(a,i){1&a&&e._UZ(0,"app-option",9),2&a&&e.Q6J("text","\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b1\u03c0\u03bf\u03b8\u03c5\u03ba\u03b5\u03c5\u03bc\u03ad\u03bd\u03b5\u03c2 \u03c3\u03c4\u03ac\u03c3\u03b5\u03b9\u03c2")}function Xa(a,i){if(1&a&&e.YNc(0,Ka,1,1,"app-option",8),2&a){const t=e.oxw();e.Q6J("ngIf",t.saved)}}class Ne{constructor(i,t,n,o){this.store=i,this.msg=t,this.router=n,this.local=o,this.flag=!0,this.saved=!1}ngOnInit(){this.searchText$=this.local.getText(),this.msg.selectEndpoint(this.local.state$),this.stops$=this.store.select(this.saved?U._G:U.Xq)}onSave(i){this.store.dispatch(k.C8({code:i}))}onRemove(i){this.store.dispatch(k.xC({code:i}))}onClick(i){this.local.updatePoint(i),this.store.dispatch(E.tI())}onLocation(i){var t=this;return dt(function*(){const{coords:n}=yield t.getPosition();t.local.updatePoint([1,"My location",n.latitude,n.longitude]),t.store.dispatch(E.tI())})()}tripPlanner(){this.local.changeDirection(""),this.router.navigate([{outlets:{sidebar:["routes","trip","options"]}}],{queryParams:{module:"trip_options"}})}onMap(i){window.innerWidth<=500&&(this.store.dispatch(E._n()),setTimeout(()=>this.msg.selectEndpoint(this.local.state$),0)),this.local.updatePoint(i)}getPosition(){return new Promise((i,t)=>{navigator&&navigator.geolocation?navigator.geolocation.getCurrentPosition(i):(confirm("Can't access device location"),t("Geolocation not supported"))})}}function Wa(a,i){1&a&&e._UZ(0,"spinner-component")}function ei(a,i){1&a&&e._UZ(0,"toaster-component")}Ne.\u0275fac=function(i){return new(i||Ne)(e.Y36(l.yh),e.Y36(te._),e.Y36(c.F0),e.Y36(v))},Ne.\u0275cmp=e.Xpm({type:Ne,selectors:[["stop-dropdown"]],inputs:{flag:"flag",saved:"saved"},decls:7,vars:6,consts:[[1,"option-list"],[3,"icon","text","data","onSelect",4,"ngIf"],[4,"ngIf","ngIfElse"],["noStops",""],[3,"icon","text","data","onSelect"],[4,"ngIf"],[3,"menu","icon","text","desc","data","onSelect","save","remove",4,"ngFor","ngForOf"],[3,"menu","icon","text","desc","data","onSelect","save","remove"],[3,"text",4,"ngIf"],[3,"text"]],template:function(i,t){if(1&i&&(e.TgZ(0,"div",0),e.YNc(1,Ua,1,4,"app-option",1),e.YNc(2,Qa,1,4,"app-option",1),e.YNc(3,$a,2,2,"ng-container",2),e.ALo(4,"async"),e.qZA(),e.YNc(5,Xa,1,1,"ng-template",null,3,e.W1O)),2&i){const n=e.MAs(6);e.xp6(1),e.Q6J("ngIf",!t.saved),e.xp6(1),e.Q6J("ngIf",!t.saved),e.xp6(1),e.Q6J("ngIf",e.lcZ(4,4,t.stops$))("ngIfElse",n)}},dependencies:[s.sg,s.O5,p.x,s.Ov,Za.g],styles:["[_nghost-%COMP%]{width:25vw;min-width:342px}.option-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;overflow:auto;max-height:calc(100vh - 185px);padding-right:3px;margin-top:5px}h1[_ngcontent-%COMP%]{margin-bottom:15px;color:#2b3b4c;font-family:Lexend Deca,sans-serif;font-weight:600;font-size:21px}@media screen and (max-width: 800px){[_nghost-%COMP%]{min-width:330px}}@media screen and (max-width: 700px){[_nghost-%COMP%]{min-width:270px}}@media screen and (max-width: 600px){[_nghost-%COMP%]{min-width:250px}}@media screen and (max-width: 500px){[_nghost-%COMP%]{width:100vw}}"]});class ye{constructor(i){this.store=i,this.value=""}ngOnInit(){this.spinner$=this.store.select(U.lY)}}ye.\u0275fac=function(i){return new(i||ye)(e.Y36(l.yh))},ye.\u0275cmp=e.Xpm({type:ye,selectors:[["places-slider"]],decls:10,vars:7,consts:[[1,"main"],[4,"ngIf"],[1,"slider-wrapper"],["mat-stretch-tabs","","animationDuration","300ms"],["label","Places"],[3,"flag"],["label","Saved"],[3,"saved","flag"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0),e.YNc(1,Wa,1,0,"spinner-component",1),e.ALo(2,"async"),e.YNc(3,ei,1,0,"toaster-component",1),e.TgZ(4,"div",2)(5,"mat-tab-group",3)(6,"mat-tab",4),e._UZ(7,"stop-dropdown",5),e.qZA(),e.TgZ(8,"mat-tab",6),e._UZ(9,"stop-dropdown",7),e.qZA()()()()),2&i&&(e.xp6(1),e.Q6J("ngIf",e.lcZ(2,5,t.spinner$)),e.xp6(2),e.Q6J("ngIf",!1),e.xp6(4),e.Q6J("flag",!1),e.xp6(2),e.Q6J("saved",!0)("flag",!1))},dependencies:[s.O5,de.O,Xe.B,pt.SP,pt.uX,Ne,s.Ov],styles:["[_nghost-%COMP%]{width:25vw;min-width:342px;display:flex;flex-direction:column;font-family:Lexend Deca,sans-serif;align-items:center}.slider-wrapper[_ngcontent-%COMP%]{width:100%}.main[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;width:100%;padding:0 15px;height:calc(100vh - 108px);position:relative}@media screen and (max-width: 800px){[_nghost-%COMP%]{min-width:330px}}@media screen and (max-width: 700px){[_nghost-%COMP%]{min-width:270px}}@media screen and (max-width: 600px){[_nghost-%COMP%]{min-width:250px}}@media screen and (max-width: 500px){[_nghost-%COMP%]{width:100vw}}"]});var St=d(3811);class be{constructor(){}ngOnInit(){}}be.\u0275fac=function(i){return new(i||be)},be.\u0275cmp=e.Xpm({type:be,selectors:[["places-map"]],decls:3,vars:0,consts:[[1,"main"],[1,"option-list"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"map-area"),e.qZA()())},dependencies:[St.E],styles:["[_nghost-%COMP%]{width:100vw;display:flex;flex-direction:column;align-items:center;height:100%}.main[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;width:100%;height:100%;padding:5px}.option-list[_ngcontent-%COMP%]{height:calc(100vh - 120px)}"]});class De{constructor(){}ngOnInit(){}}De.\u0275fac=function(i){return new(i||De)},De.\u0275cmp=e.Xpm({type:De,selectors:[["mini-map"]],decls:3,vars:0,consts:[[1,"main"],[1,"option-list"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"map-area"),e.qZA()())},dependencies:[St.E],styles:["[_nghost-%COMP%]{width:25vw;min-width:342px;display:flex;flex-direction:column;align-items:center;height:100%}.main[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;width:100%;height:100%;padding:5px}@media screen and (max-width: 800px){[_nghost-%COMP%]{min-width:330px}}@media screen and (max-width: 700px){[_nghost-%COMP%]{min-width:270px}}@media screen and (max-width: 600px){[_nghost-%COMP%]{min-width:250px}}@media screen and (max-width: 500px){[_nghost-%COMP%]{width:100vw}}.option-list[_ngcontent-%COMP%]{height:calc(100vh - 150px)}"]});var ut=d(6835);const ti={arrivals:[]};class ue extends f.m1{constructor(i,t){super(ti),this.dataService=i,this.store=t,this.fetchArrivals=this.effect(n=>n.pipe((0,x.h)(o=>!!o),(0,fe.w)(o=>(0,P.H)(0,3e4).pipe((0,fe.w)(()=>this.dataService.getLiveUpdates(o.code,"stops/")),(0,f._b)(r=>this.updateArrivals(r),r=>console.log(r)))))),this.updateArrivals=this.updater((n,o)=>({arrivals:[...o]}))}getArrivalState(){return this.select(this.store.select(U.bj),this.state$,(i,t)=>t.arrivals.filter(n=>n.routeCode==i?.route))}}ue.\u0275fac=function(i){return new(i||ue)(e.LFG(vt.D),e.LFG(l.yh))},ue.\u0275prov=e.Yz7({token:ue,factory:ue.\u0275fac});var ni=d(440);function ai(a,i){if(1&a&&(e.ynx(0),e._UZ(1,"input-field",1),e.TgZ(2,"div",2)(3,"h1"),e._uU(4,"Telematics"),e.qZA(),e._UZ(5,"bus-entity",3),e.qZA(),e.BQk()),2&a){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("value",t.stop.desc)("disabled",!0)("icon","trip_origin")("type","start")("title","Origin"),e.xp6(4),e.Q6J("buses",t.arrivals)}}function ii(a,i){if(1&a&&(e.ynx(0),e.YNc(1,ai,6,6,"ng-container",0),e.BQk()),2&a){const t=i.ngIf;e.xp6(1),e.Q6J("ngIf",t.stop)}}class Ze{constructor(i,t,n){this.store=i,this.localStore=t,this.msg=n}ngOnInit(){this.vm$=(0,y.a)([this.store.select(U.k4),this.localStore.getArrivalState()]).pipe((0,I.U)(([i,t])=>({arrivals:t,stop:i})),(0,O.b)(i=>this.initMarker(i.stop,i.arrivals))),this.localStore.fetchArrivals(this.store.select(U.k4))}initMarker(i,t){i&&(this.msg.sendOrigin(i),this.msg.sendBusStatus(t))}}Ze.\u0275fac=function(i){return new(i||Ze)(e.Y36(l.yh),e.Y36(ue),e.Y36(te._))},Ze.\u0275cmp=e.Xpm({type:Ze,selectors:[["bookin-origin"]],features:[e._Bn([ue])],decls:2,vars:3,consts:[[4,"ngIf"],[3,"value","disabled","icon","type","title"],[1,"main"],[3,"buses"]],template:function(i,t){1&i&&(e.YNc(0,ii,2,1,"ng-container",0),e.ALo(1,"async")),2&i&&e.Q6J("ngIf",e.lcZ(1,1,t.vm$))},dependencies:[s.O5,ni.N,ge.S,s.Ov],styles:["[_nghost-%COMP%]{width:25vw;min-width:342px;display:flex;flex-direction:column;font-family:Lexend Deca,sans-serif;align-items:center}h1[_ngcontent-%COMP%]{margin-bottom:10px;color:#2b3b4c;margin-top:10px;font-family:Lexend Deca,sans-serif;font-weight:600;font-size:21px}.main[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;width:100%;padding:0 15px;height:calc(100vh - 109px);position:relative}.option-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;width:100%;overflow:auto;max-height:calc(100vh - 180px);padding-right:3px;gap:10px}@media screen and (max-width: 800px){[_nghost-%COMP%]{min-width:330px}}@media screen and (max-width: 700px){[_nghost-%COMP%]{min-width:270px}}@media screen and (max-width: 600px){[_nghost-%COMP%]{min-width:250px}}@media screen and (max-width: 500px){[_nghost-%COMP%]{width:100vw}}"]});const oi=[{path:"",component:w,children:[{path:"",component:g,canActivate:[ne.P]},{path:"trips/map",component:De,canActivate:[ne.P]},{path:"trip/options",component:Fe,canActivate:[ne.P]},{path:"trips/:index",component:Ie,canActivate:[ne.P]},{path:"trips",component:Pe,canActivate:[ne.P]}],canActivate:[ne.P]},{path:"places/start",component:ae,data:{type:"start"},canActivate:[ne.P],children:[{path:"",component:ye},{path:"map",component:be,canActivate:[ut.c]}]},{path:"places/dest",component:ae,data:{type:"dest"},canActivate:[ne.P],children:[{path:"",component:ye},{path:"map",component:be,canActivate:[ut.c]}]},{path:"booking/qr/:id",component:Ye,canActivate:[ne.P]},{path:"booking/:id/stop/:code",component:Ze,canActivate:[ne.P]},{path:"booking/:code/map",component:De,canActivate:[ut.c]},{path:"bookings",component:Ve,canActivate:[ne.P]}];class we{}we.\u0275fac=function(i){return new(i||we)},we.\u0275mod=e.oAB({type:we}),we.\u0275inj=e.cJS({imports:[c.Bz.forChild(oi),c.Bz]});var ri=d(6658),si=d(457),li=d(3373),di=d(4522);class Me{}Me.\u0275fac=function(i){return new(i||Me)},Me.\u0275mod=e.oAB({type:Me}),Me.\u0275inj=e.cJS({providers:[v,Ct.e],imports:[s.ez,we,K.u5,ri.m,pt.Nh,xt.LD,fa,et.c,K.UX,Xt,H.XK,pe.ot,si.Tx,li.AuthModule,Fa,di.R]})},4901:V=>{"use strict";var u={single_source_shortest_paths:function(d,s,c){var e={},l={};l[s]=0;var h,m,g,f,x,D,p=u.PriorityQueue.make();for(p.push(s,0);!p.empty();)for(g in f=(h=p.pop()).cost,x=d[m=h.value]||{})x.hasOwnProperty(g)&&(D=f+x[g],(typeof l[g]>"u"||l[g]>D)&&(l[g]=D,p.push(g,D),e[g]=m));if(typeof c<"u"&&typeof l[c]>"u"){var N=["Could not find a path from ",s," to ",c,"."].join("");throw new Error(N)}return e},extract_shortest_path_from_predecessor_list:function(d,s){for(var c=[],e=s;e;)c.push(e),e=d[e];return c.reverse(),c},find_path:function(d,s,c){var e=u.single_source_shortest_paths(d,s,c);return u.extract_shortest_path_from_predecessor_list(e,c)},PriorityQueue:{make:function(d){var e,s=u.PriorityQueue,c={};for(e in d=d||{},s)s.hasOwnProperty(e)&&(c[e]=s[e]);return c.queue=[],c.sorter=d.sorter||s.default_sorter,c},default_sorter:function(d,s){return d.cost-s.cost},push:function(d,s){this.queue.push({value:d,cost:s}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};V.exports=u},8419:V=>{"use strict";V.exports=function(d){for(var s=[],c=d.length,e=0;e<c;e++){var l=d.charCodeAt(e);if(l>=55296&&l<=56319&&c>e+1){var p=d.charCodeAt(e+1);p>=56320&&p<=57343&&(l=1024*(l-55296)+p-56320+65536,e+=1)}l<128?s.push(l):l<2048?(s.push(l>>6|192),s.push(63&l|128)):l<55296||l>=57344&&l<65536?(s.push(l>>12|224),s.push(l>>6&63|128),s.push(63&l|128)):l>=65536&&l<=1114111?(s.push(l>>18|240),s.push(l>>12&63|128),s.push(l>>6&63|128),s.push(63&l|128)):s.push(239,191,189)}return new Uint8Array(s).buffer}}}]);